{"componentChunkName":"component---src-templates-doc-js","path":"/docs/distribution/","result":{"pageContext":{"html":"<h1 id=\"getting-started-with-api-platform-create-your-api-and-your-jamstack-site\" style=\"position:relative;\"><a href=\"#getting-started-with-api-platform-create-your-api-and-your-jamstack-site\" aria-label=\"getting started with api platform create your api and your jamstack site permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Getting Started With API Platform: Create Your API and Your Jamstack Site</h1>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1120px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 66.42857142857143%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABYlAAAWJQFJUiTwAAADSElEQVQ4y31RTWzbZBj2kcMmYFsnVlgvSHAAVEHV0+AwjUm7rFrLRsPQUgTHShygE4OmF+DA+rcKJOAGlLKgMTSkBZKslYpEVGCrsrVb7Px1jp0mdv4c28nSOLa/hzdJEYgDlh49z/vq9fO9P1x/b+/hZ/p6Fp9+8qnvjwy+dPnokaP+weee9/ft7/H3PrLP/8Sj+/yHiA8RP76Ldr7vQE9HH2zX7T9w+bE9e68e3LN3kDs+cX7w1PQMhi7O4OQn0zizsIDRTz/D6UsLGJmdwzBhdG4entl5nCLdyc3M4lWqOfHuBF48fQZDH32MofkFvHzh/XPc0A9XX3gzxjfeSiTcN4R4a4wXbG+Mt8cI54S4fTaesC8kU/aHqbTtpZhqbC/VnL0Xs1+nmuHAz/bwF19aY6EwRq4HRrmRpaWBsT9vWm/fvoO5eIJdjPFsmhfYpWSK/SSK7FoqxULEQTnL/GKGfbslsh8zEltRFBbOKyyi62xaiLuvfLOIY+9MeLjvgsGBjWzWWstmcU0tsMWNTVy5LyJQLMHUdZgFFfVKBapuYrtSRU6rQjNMwLLgNBqA4zDVMNx1RUH41i0Pt7KyMlArFi0hryBaf8BCN8KICjz+MGvI1usoWy2UCDuOg39/DmNwXBcMYHXTdM1yGfzmpocLLS8PFFTV2ioWoVYqzP9LEDdWf4VAL8rUTbpQQEotorbT7DqRESN0ZYeZWau5pqkjlUp2DcvUYSKXw9e/rbHPb8ewtMEjdDeGKo1ULGswNA07tk1duqjbDlrUmUWwCX8bVqsaBEHwcEEyrJDhXTIM51WWoF1upNNY0w0ozQZWVwOQSuVORwV64Pqde9jS9I5ha9fQoB0qNNH6+nrXsFwoNHlK+HN5dym9xb5KJNmVnMJ0a4dJSpJpTYvRr0xvtdjN7TzFTUY7ZGTYntklQ0dVVUSj0VFumY5SKZUciXYYkWX8nst3kd1GqUpXrjegGwY0uniV0HhQh7Eb64SOppWU6Shk+BoXCAT6RVEsZ2W5lpdlIyfLZk6WzDZLUsbMZERTymRISx0WM+3cPzFpg7ROsCKRyAjn9XofmvL5nv1gcrL/vf/A5/P9P6am+qcIk1Tb5vHx8Yf/Av4+GCYbpqupAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"The welcome page\"\n        title=\"The welcome page\"\n        src=\"/static/bd4d41b83345258b0f6b1ea7456d52ae/f43e4/api-platform-2.6-welcome.png\"\n        srcset=\"/static/bd4d41b83345258b0f6b1ea7456d52ae/908b1/api-platform-2.6-welcome.png 280w,\n/static/bd4d41b83345258b0f6b1ea7456d52ae/b06ae/api-platform-2.6-welcome.png 560w,\n/static/bd4d41b83345258b0f6b1ea7456d52ae/f43e4/api-platform-2.6-welcome.png 1120w,\n/static/bd4d41b83345258b0f6b1ea7456d52ae/21cdd/api-platform-2.6-welcome.png 1680w,\n/static/bd4d41b83345258b0f6b1ea7456d52ae/7b67d/api-platform-2.6-welcome.png 2240w,\n/static/bd4d41b83345258b0f6b1ea7456d52ae/6149e/api-platform-2.6-welcome.png 2784w\"\n        sizes=\"(max-width: 1120px) 100vw, 1120px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<blockquote>\n<p><em>API Platform</em> is the most advanced API platform, in any framework or language.</p>\n<p>â€”Fabien Potencier (creator of Symfony)</p>\n</blockquote>\n<p><a href=\"https://api-platform.com\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">API Platform</a> is a powerful yet easy to use <strong>full stack</strong> framework dedicated to API-driven projects and implementing the <a href=\"https://jamstack.org/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Jamstack</a> architecture.</p>\n<h2 id=\"introduction\" style=\"position:relative;\"><a href=\"#introduction\" aria-label=\"introduction permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Introduction</h2>\n<p>API Platform contains <a href=\"/docs/core/\">a <strong>PHP</strong> library (Core)</a> to create fully featured hypermedia (or <a href=\"/docs/core/graphql/\">GraphQL</a>) web APIs supporting industry-leading standards: <a href=\"https://json-ld.org\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">JSON-LD</a> with <a href=\"https://www.hydra-cg.com\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Hydra</a>, <a href=\"/docs/core/swagger/\">OpenAPI</a>...</p>\n<p>API Platform also provides ambitious <strong>JavaScript</strong> tools to create web and mobile applications based on the most popular frontend technologies in a snap. These tools parse the documentation of the API (or of any other API supporting Hydra or OpenAPI).</p>\n<p> API Platform is shipped with <strong><a href=\"/docs/deployment/docker-compose/\">Docker</a></strong> and <strong><a href=\"/docs/deployment/kubernetes/\">Kubernetes</a></strong> definitions, to develop and deploy instantly on the cloud.</p>\n<p>The easiest and most powerful way to get started is <a href=\"https://github.com/api-platform/api-platform/releases\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">to download the API Platform distribution</a>. It contains:</p>\n<ul>\n<li>the API skeleton, including <a href=\"/docs/core/\">the Core library</a>, <a href=\"https://symfony.com/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">the Symfony framework</a> (<a href=\"/docs/core/bootstrap/\">optional</a>) and <a href=\"https://www.doctrine-project.org/projects/orm.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">the Doctrine ORM</a> (<a href=\"/docs/core/extending/\">optional</a>)</li>\n<li><a href=\"/docs/client-generator/\">the client scaffolding tool</a> to generate <a href=\"../client-generator/\">Next.js</a> web applications from the API documentation (<a href=\"https://nuxtjs.org/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Nuxt.js</a>, <a href=\"https://vuejs.org/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Vue</a>, <a href=\"https://reactjs.org\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Create React App</a>, <a href=\"https://facebook.github.io/react-native/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">React Native</a>, <a href=\"https://quasar.dev/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Quasar</a> and <a href=\"https://vuetifyjs.com/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Vuetify</a> are also supported)</li>\n<li><a href=\"/docs/admin/\">a beautiful admin interface</a>, built on top of React Admin, dynamically created by parsing the API documentation</li>\n<li>all you need to <a href=\"/docs/core/mercure/\">create real-time and async APIs using the Mercure protocol</a></li>\n<li>a <a href=\"/docs/deployment/docker-compose/\">Docker</a> definition to start a working development environment in a single command, providing containers for the API and the Next.js web application</li>\n<li>a <a href=\"https://helm.sh/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Helm</a> chart to deploy the API in any <a href=\"/docs/deployment/kubernetes/\">Kubernetes</a> cluster</li>\n</ul>\n<h2 id=\"a-bookshop-api\" style=\"position:relative;\"><a href=\"#a-bookshop-api\" aria-label=\"a bookshop api permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>A Bookshop API</h2>\n<p>To discover how the framework works, we will create an API to manage a bookshop.</p>\n<p>To create a fully featured API, an admin interface and a Progressive Web App using Next.js, all you need is to design <strong>the public data\nmodel of our API</strong> and handcraft it as <em>Plain Old PHP Objects</em>.</p>\n<p>API Platform uses these model classes to expose and document a web API having a bunch of built-in features:</p>\n<ul>\n<li>creating, retrieving, updating and deleting (CRUD) resources</li>\n<li>data validation</li>\n<li>pagination</li>\n<li>filtering</li>\n<li>sorting</li>\n<li>hypermedia/<a href=\"https://en.wikipedia.org/wiki/HATEOAS\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">HATEOAS</a> and content negotiation support (<a href=\"https://json-ld.org\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">JSON-LD</a> and <a href=\"https://www.hydra-cg.com/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Hydra</a>, <a href=\"https://jsonapi.org/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">JSON:API</a>, <a href=\"https://tools.ietf.org/html/draft-kelly-json-hal-08\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">HAL</a>...)</li>\n<li><a href=\"/docs/core/graphql/\">GraphQL support</a></li>\n<li>Nice UI and machine-readable documentations (<a href=\"https://swagger.io\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Swagger UI/OpenAPI</a>, <a href=\"https://github.com/graphql/graphiql\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">GraphiQL</a>...)</li>\n<li>authentication (<a href=\"https://en.wikipedia.org/wiki/Basic_access_authentication\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Basic HTTP</a>, cookies as well as <a href=\"/docs/core/jwt/\">JWT</a> and <a href=\"https://oauth.net\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">OAuth</a> through extensions)</li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Access_control_CORS\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">CORS headers</a></li>\n<li>security checks and headers (tested against <a href=\"https://www.owasp.org/index.php/REST_Security_Cheat_Sheet\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">OWASP recommendations</a>)</li>\n<li><a href=\"/docs/core/performance/\">invalidation-based HTTP caching</a></li>\n<li>and basically everything needed to build modern APIs.</li>\n</ul>\n<p>One more thing, before we start: as the API Platform distribution includes <a href=\"https://symfony.com\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">the Symfony framework</a>,\nit is compatible with most <a href=\"https://flex.symfony.com\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Symfony bundles</a>\n(plugins) and benefits from <a href=\"/docs/core/extending/\">the numerous extensions points</a> provided by this rock-solid foundation (events, Dependency Injection Container...).\nAdding features like custom or service-oriented API endpoints, JWT or OAuth authentication, HTTP caching, mail sending or\nasynchronous jobs to your APIs is straightforward.</p>\n<h2 id=\"installing-the-framework\" style=\"position:relative;\"><a href=\"#installing-the-framework\" aria-label=\"installing the framework permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Installing the Framework</h2>\n<h3 id=\"using-the-api-platform-distribution-recommended\" style=\"position:relative;\"><a href=\"#using-the-api-platform-distribution-recommended\" aria-label=\"using the api platform distribution recommended permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Using the API Platform Distribution (Recommended)</h3>\n<p>Start by <a href=\"https://github.com/api-platform/api-platform/releases/latest\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">downloading the API Platform distribution</a>, or <a href=\"https://github.com/api-platform/api-platform/generate\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">generate a GitHub repository from the template we provide</a>.\nYou will add your own code and configuration inside this skeleton.</p>\n<p><strong>Note</strong>: Avoid downloading the <code class=\"language-text\">.zip</code> archive, as it may cause potential <a href=\"https://github.com/api-platform/api-platform/issues/319#issuecomment-307037562\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">permission</a> <a href=\"https://github.com/api-platform/api-platform/issues/777#issuecomment-412515342\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">issues</a>, prefer the <code class=\"language-text\">.tar.gz</code> archive.</p>\n<p>API Platform is shipped with a <a href=\"https://docker.com\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Docker</a> definition that makes it easy to get a containerized development\nenvironment up and running. If you do not already have Docker on your computer, it's the right time to <a href=\"https://docs.docker.com/get-docker/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">install it</a>.</p>\n<p><strong>Note</strong>: On Mac, only <a href=\"https://docs.docker.com/docker-for-mac/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Docker for Mac</a> is supported.\nSimilarly, on Windows, only <a href=\"https://docs.docker.com/docker-for-windows/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Docker for Windows</a> is supported. Docker Machine <strong>is not</strong> supported out of the box.</p>\n<p>Open a terminal, and navigate to the directory containing your project skeleton. Run the following command to start all\nservices using <a href=\"https://docs.docker.com/compose/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Docker Compose</a>:</p>\n<p>Download and build the latest versions of the images:</p>\n<div class=\"gatsby-highlight\" data-language=\"console\"><pre class=\"language-console\"><code class=\"language-console\">docker-compose build --pull --no-cache</code></pre></div>\n<p>Start Docker Compose in detached mode:</p>\n<div class=\"gatsby-highlight\" data-language=\"console\"><pre class=\"language-console\"><code class=\"language-console\">docker-compose up -d </code></pre></div>\n<p><strong>Tip:</strong> be sure that the ports <code class=\"language-text\">80</code>, <code class=\"language-text\">443</code> and <code class=\"language-text\">5432</code> of the host are not already in use. The usual offenders are Apache, NGINX and Postgres. If they are running, stop them and run <code class=\"language-text\">docker-compose up -d</code> again.</p>\n<p>This starts the following services:</p>\n<table>\n<thead>\n<tr>\n<th>Name</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>caddy</td>\n<td><a href=\"/docs/distribution/caddy/\">Caddy web server</a> with the <a href=\"/docs/core/mercure/\">Mercure</a> (real-time and async) and <a href=\"https://vulcain.rocks\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Vulcain</a> (relations preloading) modules</td>\n</tr>\n<tr>\n<td>php</td>\n<td>The API with PHP 8, Composer and sensitive configs</td>\n</tr>\n<tr>\n<td>pwa</td>\n<td>Next.js webapp with API Platform Admin and Client Generator preinstalled</td>\n</tr>\n<tr>\n<td>database</td>\n<td>PostgreSQL database server</td>\n</tr>\n</tbody>\n</table>\n<p>The following components are available:</p>\n<table>\n<thead>\n<tr>\n<th>URL</th>\n<th>Path</th>\n<th>Language</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">https://localhost/docs/</code></td>\n<td><code class=\"language-text\">api/</code></td>\n<td>PHP</td>\n<td>The API</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">https://localhost/</code></td>\n<td><code class=\"language-text\">pwa/</code></td>\n<td>JavaScript</td>\n<td>The Next.js application</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">https://localhost/admin/</code></td>\n<td><code class=\"language-text\">pwa/pages/admin/</code></td>\n<td>JavaScript</td>\n<td>The Admin</td>\n</tr>\n</tbody>\n</table>\n<p>To see the container's logs, run:</p>\n<div class=\"gatsby-highlight\" data-language=\"console\"><pre class=\"language-console\"><code class=\"language-console\">docker-compose logs -f</code></pre></div>\n<p>The <code class=\"language-text\">-f</code> option is to follow the logs.</p>\n<p>Project files are automatically shared between your local host machine and the container thanks to a pre-configured <a href=\"https://docs.docker.com/engine/tutorials/dockervolumes/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Docker\nvolume</a>. It means that you can edit files of your project locally\nusing your preferred IDE or code editor, they will be transparently taken into account in the container.\nSpeaking about IDEs, our favorite software to develop API Platform apps is <a href=\"https://www.jetbrains.com/phpstorm/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">PhpStorm</a>\nwith its awesome <a href=\"https://confluence.jetbrains.com/display/PhpStorm/Getting+Started+-+Symfony+Development+using+PhpStorm\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Symfony</a>\nand <a href=\"https://plugins.jetbrains.com/plugin/7622-php-inspections-ea-extended-\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Php Inspections</a> plugins. Give them a try,\nyou'll get auto-completion for almost everything and awesome quality analysis.</p>\n<p><a href=\"https://marketplace.visualstudio.com/items?itemName=felixfbecker.php-intellisense\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">PHP IntelliSense for Visual Studio Code</a> also works well, and is free and open source.</p>\n<p>The API Platform distribution comes with a dummy entity for test purpose: <code class=\"language-text\">api/src/Entity/Greeting.php</code>. We will remove\nit later.</p>\n<p>If you're used to the PHP ecosystem, you probably guessed that this test entity uses the industry-leading <a href=\"https://www.doctrine-project.org/projects/orm.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Doctrine ORM</a>\nlibrary as persistence system. It is shipped, in the API Platform distribution.</p>\n<p>Doctrine ORM is the easiest way to persist and query data in an API Platform project thanks to the bridge shipped with the\ndistribution, but it's also entirely optional, and <a href=\"/docs/core/design/\">you may prefer to plug your own persistence system</a>.</p>\n<p>The Doctrine Bridge is optimized for performance and development convenience. For instance, when using Doctrine, API Platform\nis able to automatically optimize the generated SQL queries by adding the appropriate <code class=\"language-text\">JOIN</code> clauses. It also provides a\nlot of powerful <a href=\"/docs/core/filters/\">built-in filters</a>.\nDoctrine ORM and its bridge support most popular RDBMS including PostgreSQL, MySQL, MariaDB, SQL Server, Oracle and SQLite.\nThere is also a shipped <a href=\"https://www.doctrine-project.org/projects/mongodb-odm.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Doctrine MongoDB ODM</a> optional support.</p>\n<p>That being said, keep in mind that API Platform is 100% independent of the persistence system. You can use the one(s) that\nbest suit(s) your needs (including NoSQL databases or remote web services) by implementing the <a href=\"/docs/core/data-providers/\">right interfaces</a>. API Platform even supports using several persistence\nsystems together in the same project.</p>\n<h3 id=\"using-symfony-cli\" style=\"position:relative;\"><a href=\"#using-symfony-cli\" aria-label=\"using symfony cli permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Using Symfony CLI</h3>\n<p>Alternatively, the API Platform server component can also be installed directly on a local machine.\n<strong>This method is recommended only for users who want full control over the directory structure and the installed\ndependencies.</strong></p>\n<p><a href=\"https://symfonycasts.com/screencast/api-platform/install?cid=apip\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">For a good introduction, watch how to install API Platform without the distribution on SymfonyCasts</a>.</p>\n<p>The rest of this tutorial assumes that you have installed API Platform using the official distribution. Go straight to the\nnext section if it's your case.</p>\n<p>API Platform has an official Symfony Flex recipe. It means that you can easily install it from any Symfony\napplication using <a href=\"https://symfony.com/download\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">the Symfony binary</a>:</p>\n<p>Create a new Symfony project:</p>\n<div class=\"gatsby-highlight\" data-language=\"console\"><pre class=\"language-console\"><code class=\"language-console\">symfony new bookshop-api</code></pre></div>\n<p>Enter the project directory:</p>\n<div class=\"gatsby-highlight\" data-language=\"console\"><pre class=\"language-console\"><code class=\"language-console\">cd bookshop-api</code></pre></div>\n<p>Install the API Platform's server component in this skeleton:</p>\n<div class=\"gatsby-highlight\" data-language=\"console\"><pre class=\"language-console\"><code class=\"language-console\">symfony composer require api</code></pre></div>\n<p>Then, create the database and its schema:</p>\n<div class=\"gatsby-highlight\" data-language=\"console\"><pre class=\"language-console\"><code class=\"language-console\">symfony console doctrine:database:create\nsymfony console doctrine:schema:create</code></pre></div>\n<p>And start the built-in PHP server:</p>\n<div class=\"gatsby-highlight\" data-language=\"console\"><pre class=\"language-console\"><code class=\"language-console\">symfony serve</code></pre></div>\n<p>All JavaScript components are also <a href=\"https://github.com/api-platform?language=javascript\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">available as standalone libraries</a>\ninstallable with npm or Yarn.  </p>\n<p><strong>Note:</strong> when installing API Platform this way, the API will be exposed as the <code class=\"language-text\">/api/</code> path. You need to open <code class=\"language-text\">http://localhost:8000/api/</code> to see the API documentation.\nIf you are deploying API Platform directly on an Apache or NGINX webserver and getting a 404 error on opening this link, you will need to enable the <a href=\"https://symfony.com/doc/current/setup/web_server_configuration.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">rewriting rules</a> for your specific webserver software.</p>\n<h2 id=\"its-ready\" style=\"position:relative;\"><a href=\"#its-ready\" aria-label=\"its ready permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>It's Ready</h2>\n<p>Open <code class=\"language-text\">https://localhost</code> in your favorite web browser:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1120px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 66.42857142857143%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABYlAAAWJQFJUiTwAAADSElEQVQ4y31RTWzbZBj2kcMmYFsnVlgvSHAAVEHV0+AwjUm7rFrLRsPQUgTHShygE4OmF+DA+rcKJOAGlLKgMTSkBZKslYpEVGCrsrVb7Px1jp0mdv4c28nSOLa/hzdJEYgDlh49z/vq9fO9P1x/b+/hZ/p6Fp9+8qnvjwy+dPnokaP+weee9/ft7/H3PrLP/8Sj+/yHiA8RP76Ldr7vQE9HH2zX7T9w+bE9e68e3LN3kDs+cX7w1PQMhi7O4OQn0zizsIDRTz/D6UsLGJmdwzBhdG4entl5nCLdyc3M4lWqOfHuBF48fQZDH32MofkFvHzh/XPc0A9XX3gzxjfeSiTcN4R4a4wXbG+Mt8cI54S4fTaesC8kU/aHqbTtpZhqbC/VnL0Xs1+nmuHAz/bwF19aY6EwRq4HRrmRpaWBsT9vWm/fvoO5eIJdjPFsmhfYpWSK/SSK7FoqxULEQTnL/GKGfbslsh8zEltRFBbOKyyi62xaiLuvfLOIY+9MeLjvgsGBjWzWWstmcU0tsMWNTVy5LyJQLMHUdZgFFfVKBapuYrtSRU6rQjNMwLLgNBqA4zDVMNx1RUH41i0Pt7KyMlArFi0hryBaf8BCN8KICjz+MGvI1usoWy2UCDuOg39/DmNwXBcMYHXTdM1yGfzmpocLLS8PFFTV2ioWoVYqzP9LEDdWf4VAL8rUTbpQQEotorbT7DqRESN0ZYeZWau5pqkjlUp2DcvUYSKXw9e/rbHPb8ewtMEjdDeGKo1ULGswNA07tk1duqjbDlrUmUWwCX8bVqsaBEHwcEEyrJDhXTIM51WWoF1upNNY0w0ozQZWVwOQSuVORwV64Pqde9jS9I5ha9fQoB0qNNH6+nrXsFwoNHlK+HN5dym9xb5KJNmVnMJ0a4dJSpJpTYvRr0xvtdjN7TzFTUY7ZGTYntklQ0dVVUSj0VFumY5SKZUciXYYkWX8nst3kd1GqUpXrjegGwY0uniV0HhQh7Eb64SOppWU6Shk+BoXCAT6RVEsZ2W5lpdlIyfLZk6WzDZLUsbMZERTymRISx0WM+3cPzFpg7ROsCKRyAjn9XofmvL5nv1gcrL/vf/A5/P9P6am+qcIk1Tb5vHx8Yf/Av4+GCYbpqupAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"The welcome page\"\n        title=\"The welcome page\"\n        src=\"/static/bd4d41b83345258b0f6b1ea7456d52ae/f43e4/api-platform-2.6-welcome.png\"\n        srcset=\"/static/bd4d41b83345258b0f6b1ea7456d52ae/908b1/api-platform-2.6-welcome.png 280w,\n/static/bd4d41b83345258b0f6b1ea7456d52ae/b06ae/api-platform-2.6-welcome.png 560w,\n/static/bd4d41b83345258b0f6b1ea7456d52ae/f43e4/api-platform-2.6-welcome.png 1120w,\n/static/bd4d41b83345258b0f6b1ea7456d52ae/21cdd/api-platform-2.6-welcome.png 1680w,\n/static/bd4d41b83345258b0f6b1ea7456d52ae/7b67d/api-platform-2.6-welcome.png 2240w,\n/static/bd4d41b83345258b0f6b1ea7456d52ae/6149e/api-platform-2.6-welcome.png 2784w\"\n        sizes=\"(max-width: 1120px) 100vw, 1120px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>You'll need to add a security exception in your browser to accept the self-signed TLS certificate that has been generated\nfor this container when installing the framework.</p>\n<p>Later you will probably replace this welcome screen by the homepage of your Next.js application. If you don't plan to create\na Progressive Web App, you can remove the <code class=\"language-text\">pwa/</code> directory as well as the related lines in <code class=\"language-text\">docker-compose*.yml</code> and in <code class=\"language-text\">api/docker/caddy/Caddyfile</code> (don't do it\nnow, we'll use this container later in this tutorial).</p>\n<p>Click on the \"API\" button, or go to <code class=\"language-text\">https://localhost/docs/</code>:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1120px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 66.42857142857143%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABYlAAAWJQFJUiTwAAAChElEQVQ4y6XS30sUURQH8EtPVg/Wi6awYZsmgmE1CEUQBNVDVA8SuP0QY9OkX0J/QmSyS4u6T4EEpg+OkPTQg5APIRm6OTutxu6mqytK5u66s7Mz487s3J2Ze7qzERT4I2jgw5mZc+6XAzPozFGno7HWMXSy/vjIxXMXhq9eusyeP32WrXM42JrKSvbYFuz3dr+6ooKtPHCQdZaXD1OjVWVljchx7Xqjs6UNqm7fhcM33VDrvg917Y+gxv0AqlruUe1baANnawccofd1dzqgupXO3XLDoStNLejFm7en/IEvWvcUb3mm+cLTyRnj+Sfe6BofN/yBMWPo64Lxei5CRf8yMBuhvW/G6HzcYKMxPBgKg/fdWDOKBIOMoedxXsdQwJjkdZ1oFH0gYNJKLAKW9av+Zv1RTdOuFmAMq4sxFwrNzTKysoklSYZ8Pk8HCdgsyrTn6exOkppE1lTRUrEOS0txF5oOTDNiRsSpHynIZESiqirkcrl/Jm0qJKvIliRLEAlHXGhxhmOCy3HczwVgLZEkGSFjBxdls9ldA9WcSjRVtURRBJ7n6YZzIrO28B7HJx5CYv07WU+kQaChG2mhGGoYxo4KhQIxTdOSZRmCwaALzYbCTCwWxR8nxyCZSpE0DRLFLA21N5RA1/XdEIxxMbC44QYXYsaXF/Qn/ASsJpLWRipN0kLGDiZ0U6JpGrG3oIe2Y9FNTUEQgOO4ZhTl5pmV1JI5tfIBZEUGVdUgRz+MpuWLf4ONELItu29fn8MReMWO3EDdA76Gl4P9Qp+vb7Onp0emFL/fr/T29hb5fD7F6/Vuy+PxyHRGetbVhR93djahPSdKS9B+VI8Qavhf+/aWlP4E/2oAFlypcfcAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"The API\"\n        title=\"The API\"\n        src=\"/static/0d054c8ea2ea8ea6425cef8fbb1e5e47/f43e4/api-platform-2.6-api.png\"\n        srcset=\"/static/0d054c8ea2ea8ea6425cef8fbb1e5e47/908b1/api-platform-2.6-api.png 280w,\n/static/0d054c8ea2ea8ea6425cef8fbb1e5e47/b06ae/api-platform-2.6-api.png 560w,\n/static/0d054c8ea2ea8ea6425cef8fbb1e5e47/f43e4/api-platform-2.6-api.png 1120w,\n/static/0d054c8ea2ea8ea6425cef8fbb1e5e47/21cdd/api-platform-2.6-api.png 1680w,\n/static/0d054c8ea2ea8ea6425cef8fbb1e5e47/7b67d/api-platform-2.6-api.png 2240w,\n/static/0d054c8ea2ea8ea6425cef8fbb1e5e47/6149e/api-platform-2.6-api.png 2784w\"\n        sizes=\"(max-width: 1120px) 100vw, 1120px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>API Platform exposes a description of the API in the <a href=\"https://www.openapis.org/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">OpenAPI</a> format (formerly known as Swagger).\nIt also integrates a customized version of <a href=\"https://swagger.io/swagger-ui/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Swagger UI</a>, a nice interface rendering the\nOpenAPI documentation.\nClick on an operation to display its details. You can also send requests to the API directly from the UI.\nTry to create a new <em>Greeting</em> resource using the <code class=\"language-text\">POST</code> operation, then access it using the <code class=\"language-text\">GET</code> operation and, finally,\ndelete it by executing the <code class=\"language-text\">DELETE</code> operation.\nIf you access any API URL with the <code class=\"language-text\">.html</code> extension appended, API Platform displays\nthe corresponding API request in the UI. Try it yourself by browsing to <code class=\"language-text\">https://localhost/greetings.html</code>. If the no extension is present, API Platform will use the <code class=\"language-text\">Accept</code> header to select the format to use. By default, a JSON-LD response is sent (<a href=\"/docs/core/content-negotiation/\">configurable behavior</a>).</p>\n<p>So, if you want to access the raw data, you have two alternatives:</p>\n<ul>\n<li>Add the correct <code class=\"language-text\">Accept</code> header (or don't set any <code class=\"language-text\">Accept</code> header at all if you don't care about security) - preferred when writing API clients</li>\n<li>Add the format you want as the extension of the resource - for debug purpose only</li>\n</ul>\n<p>For instance, go to <code class=\"language-text\">https://localhost/greetings.jsonld</code> to retrieve the list of <code class=\"language-text\">Greeting</code> resources in JSON-LD, or to\n<code class=\"language-text\">https://localhost/greetings.json</code> to retrieve data in raw JSON.</p>\n<p>Of course, you can also use your favorite HTTP client to query the API.\nWe are fond of <a href=\"https://www.getpostman.com/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Postman</a>. It works perfectly well with API Platform, has native OpenAPI support,\nallows to easily write functional tests and has good team collaboration features.</p>\n<h2 id=\"bringing-your-own-model\" style=\"position:relative;\"><a href=\"#bringing-your-own-model\" aria-label=\"bringing your own model permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Bringing your Own Model</h2>\n<p>Your API Platform project is now 100% functional. Let's expose our own data model.\nOur bookshop API will start simple. It will be composed of a <code class=\"language-text\">Book</code> resource type and a <code class=\"language-text\">Review</code> one.</p>\n<p>Books have an id, an ISBN, a title, a description, an author, a publication date and are related to a list of reviews.\nReviews have an id, a rating (between 0 and 5), a body, an author, a publication date and are related to one book.</p>\n<p>Let's describe this data model as a set of Plain Old PHP Objects (POPO):</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span>\n<span class=\"token comment\">// api/src/Entity/Book.php</span>\n\n<span class=\"token keyword\">namespace</span> <span class=\"token package\">App<span class=\"token punctuation\">\\</span>Entity</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">use</span> <span class=\"token package\">ApiPlatform<span class=\"token punctuation\">\\</span>Core<span class=\"token punctuation\">\\</span>Annotation<span class=\"token punctuation\">\\</span>ApiResource</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> <span class=\"token package\">Doctrine<span class=\"token punctuation\">\\</span>Common<span class=\"token punctuation\">\\</span>Collections<span class=\"token punctuation\">\\</span>ArrayCollection</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">/** A book. */</span>\n<span class=\"token attribute\"><span class=\"token delimiter punctuation\">#[</span><span class=\"token attribute-content\"><span class=\"token attribute-class-name class-name\">ApiResource</span></span><span class=\"token delimiter punctuation\">]</span></span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name-definition class-name\">Book</span>\n<span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">/** The id of this book. */</span>\n    <span class=\"token keyword\">private</span> <span class=\"token operator\">?</span><span class=\"token keyword type-hint\">int</span> <span class=\"token variable\">$id</span> <span class=\"token operator\">=</span> <span class=\"token constant\">null</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">/** The ISBN of this book (or null if doesn't have one). */</span>\n    <span class=\"token keyword\">public</span> <span class=\"token operator\">?</span><span class=\"token keyword type-hint\">string</span> <span class=\"token variable\">$isbn</span> <span class=\"token operator\">=</span> <span class=\"token constant\">null</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">/** The title of this book. */</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword type-declaration\">string</span> <span class=\"token variable\">$title</span> <span class=\"token operator\">=</span> <span class=\"token string single-quoted-string\">''</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">/** The description of this book. */</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword type-declaration\">string</span> <span class=\"token variable\">$description</span> <span class=\"token operator\">=</span> <span class=\"token string single-quoted-string\">''</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">/** The author of this book. */</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword type-declaration\">string</span> <span class=\"token variable\">$author</span> <span class=\"token operator\">=</span> <span class=\"token string single-quoted-string\">''</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">/** The publication date of this book. */</span>\n    <span class=\"token keyword\">public</span> <span class=\"token operator\">?</span><span class=\"token class-name class-name-fully-qualified type-declaration\"><span class=\"token punctuation\">\\</span>DateTimeImmutable</span> <span class=\"token variable\">$publicationDate</span> <span class=\"token operator\">=</span> <span class=\"token constant\">null</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">/** @var Review[] Available reviews for this book. */</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword type-declaration\">iterable</span> <span class=\"token variable\">$reviews</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">function</span> <span class=\"token function-definition function\">__construct</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">{</span>\n        <span class=\"token variable\">$this</span><span class=\"token operator\">-></span><span class=\"token property\">reviews</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ArrayCollection</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">function</span> <span class=\"token function-definition function\">getId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> <span class=\"token operator\">?</span><span class=\"token keyword return-type\">int</span>\n    <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token variable\">$this</span><span class=\"token operator\">-></span><span class=\"token property\">id</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span>\n<span class=\"token comment\">// api/src/Entity/Review.php</span>\n\n<span class=\"token keyword\">namespace</span> <span class=\"token package\">App<span class=\"token punctuation\">\\</span>Entity</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">use</span> <span class=\"token package\">ApiPlatform<span class=\"token punctuation\">\\</span>Core<span class=\"token punctuation\">\\</span>Annotation<span class=\"token punctuation\">\\</span>ApiResource</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">/** A review of a book. */</span>\n<span class=\"token attribute\"><span class=\"token delimiter punctuation\">#[</span><span class=\"token attribute-content\"><span class=\"token attribute-class-name class-name\">ApiResource</span></span><span class=\"token delimiter punctuation\">]</span></span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name-definition class-name\">Review</span>\n<span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">/** The id of this review. */</span>\n    <span class=\"token keyword\">private</span> <span class=\"token operator\">?</span><span class=\"token keyword type-hint\">int</span> <span class=\"token variable\">$id</span> <span class=\"token operator\">=</span> <span class=\"token constant\">null</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">/** The rating of this review (between 0 and 5). */</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword type-declaration\">int</span> <span class=\"token variable\">$rating</span> <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">/** The body of the review. */</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword type-declaration\">string</span> <span class=\"token variable\">$body</span> <span class=\"token operator\">=</span> <span class=\"token string single-quoted-string\">''</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">/** The author of the review. */</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword type-declaration\">string</span> <span class=\"token variable\">$author</span> <span class=\"token operator\">=</span> <span class=\"token string single-quoted-string\">''</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">/** The date of publication of this review.*/</span>\n    <span class=\"token keyword\">public</span> <span class=\"token operator\">?</span><span class=\"token class-name class-name-fully-qualified type-declaration\"><span class=\"token punctuation\">\\</span>DateTimeImmutable</span> <span class=\"token variable\">$publicationDate</span> <span class=\"token operator\">=</span> <span class=\"token constant\">null</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">/** The book this review is about. */</span>\n    <span class=\"token keyword\">public</span> <span class=\"token operator\">?</span><span class=\"token class-name type-declaration\">Book</span> <span class=\"token variable\">$book</span> <span class=\"token operator\">=</span> <span class=\"token constant\">null</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">function</span> <span class=\"token function-definition function\">getId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> <span class=\"token operator\">?</span><span class=\"token keyword return-type\">int</span>\n    <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token variable\">$this</span><span class=\"token operator\">-></span><span class=\"token property\">id</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></span></code></pre></div>\n<p>We created two typical PHP objects with the corresponding PHPDoc, both marked with the <code class=\"language-text\">#[ApiResource]</code> attribute. For convenience, we also used the Doctrine Collection library (that is independent from Doctrine ORM), but it's not mandatory.</p>\n<p>Reload <code class=\"language-text\">https://localhost/docs/</code>: API Platform used these classes to generate an OpenAPI documentation (a Hydra documentation is also exposed), and registered for us <a href=\"/docs/core/operations/\">the typical REST routes</a>.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1120px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 66.42857142857143%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABYlAAAWJQFJUiTwAAAChUlEQVQ4y6WS30tTYRjH38tRF9aNpjCxpcnIkDoIRRAE1UVUFxK4fgxjaZKUV/0DkcZWurGLoJsyvfAISRcFQhJEGLl0x83aTOeGJBbTnXO2c7Zzdt6dc96n96yCAh1FL3z4vu95vu/Dl+c96Og+h72t2T56qOXg+KnjJ8fOnT7DnjhyjHXW17NNdXXs/i2wvjvtdraxtpat27WbddTUjFEmGqqr25D9/IU2h7sLGq5cg/pLHmj23ABn901o8vTCXvd1aHB3b0EXODp7aL0bnFd7oLGT+i57YM/Zdjd68Oz54WBoXr33njO9M1zpzvSsPvCO0/unpvRgaFIf/bisP12IUxb/YDgap7XP+sRSSmcXE3gkEgPfi8kOtMiFGV0r4iLGUMKYFDWNqBR6IGBQJSYB0/yhvzB/U8Ow1AR6/8tKwoUi0Sgjy3mczeZAVVUC1iLUQzEsP/VWIq3myLoimgrWIJlMuVDoQ4jhMzwWNgWQ83lSKBTgX8jlZZKVJTMn5SAei7tQKswxs6kkHo6GYYMXiCAIIAgiiGL2rxoqBYWoimKKoggcx7nQzILIrC+/wsk3vfDt6xrZzIiQ4YUymM5F1/WKlEolYhiGKUkShMNhF4pGYkwiEcdvpychvbFJrHRlaMJisVhuqmlaJQj1lBuWE27MzjOvVxPa7eg0rKXTJp0noelIJiPQeSrESkAvVMKkSQ2e52Fubq4DJSJJZmV9yZiKvQQpL9OX1kBR1fKfQIj5U8m2WHVrhT7F4DE7fhF5RwKtD5884n0D9/NDQ0OS3++Xg8GgTPdyIBCQBwcHZZ/PJ3u93u2QqCd3t78f3+rra0fowE4bqkItCKHW/2WHzVb1HUBdAJ9fGp5PAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"The bookshop API\"\n        title=\"The bookshop API\"\n        src=\"/static/c868a040420c76cb964af598e03be8dd/f43e4/api-platform-2.6-bookshop-api.png\"\n        srcset=\"/static/c868a040420c76cb964af598e03be8dd/908b1/api-platform-2.6-bookshop-api.png 280w,\n/static/c868a040420c76cb964af598e03be8dd/b06ae/api-platform-2.6-bookshop-api.png 560w,\n/static/c868a040420c76cb964af598e03be8dd/f43e4/api-platform-2.6-bookshop-api.png 1120w,\n/static/c868a040420c76cb964af598e03be8dd/21cdd/api-platform-2.6-bookshop-api.png 1680w,\n/static/c868a040420c76cb964af598e03be8dd/7b67d/api-platform-2.6-bookshop-api.png 2240w,\n/static/c868a040420c76cb964af598e03be8dd/6149e/api-platform-2.6-bookshop-api.png 2784w\"\n        sizes=\"(max-width: 1120px) 100vw, 1120px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>Operations available for our 2 resource types appear in the UI. We can also see the awesome <a href=\"https://symfonycasts.com/screencast/symfony/profiler?cid=apip\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Web Debug Toolbar</a>.</p>\n<p>Note that entities' and properties' descriptions in the API documentation, and that API Platform use PHP types to generate the appropriate JSON Schemas.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1120px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 66.42857142857143%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABYlAAAWJQFJUiTwAAACXElEQVQ4y6WR3UtTcRjHf5dSRN6kOJo2S+wVqSEUQRBUFxEFRWhhYqZpRf4BXW21TbzoqpdV0Ht4IoP+gnSwrWzTnTOdnvdN117cOcfUTaQ1d55+v5UltLGLLj58z+/3nOd7nu9z0KF6k7G50fhq/559b48fOTZ4+sRJ6ujBw9Su2lqqwWAoTk0NtdNopHZgNVRWUvXV1YOmqqr327ZUNaO6M+ebTe3dUNfWBVsvdkJD5zVo7LqB9TqQe1P71SJ0w/aOXqjHuvtyLzR09ICp7QrUnDp3Cd168ebAPffoyn2PL//YR/94+Hks9+CTP0fUOTpeElJ/NBrIvaZDuadjwazT64PbQx9akN/rNa8sLGTnZmdAiUb1jKbqy/NaQdNqaTK/dVFJEfLL3+ZBnAq1oo/Dw2ZF07KhqWkI0IzO8QJMhqZBlCUQpXLIRHVJlvNzqRTQDNOKRkZGzBo2lHAxHA7rLMuDx/0FBEGASCRC7gpaCtKDNa8oCgSDwVbkcrnMqqpmw+FfRZ4XYXycAZbj/hiuUewDRQ3JhORFWZZ1QRCBYSZhCq+Ax/E5ji8glzFM4cgFw7XIoigBy3LYUIKJCRY4ngdivq7xH9Yb4pR/DRVV+U52iGPm8Q51nz+gM0xQx5PpZOoy5LHpajwWB5qmW5DX7TFn0pnVeDwOMzOzEI1+BfKnyQTkHIvFIJlMliSRSICmKuAJ0PD83dAF5Hh2t8n58onmsDsydrt9qb+/Pz0wMJAmSrDZbGmr1VoSi8WyhPsW79hs2Zt9fWcRatpUgTaivQg//S8bKio2/wRKBNx8ASQXvAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Bookshop JSON Schemas\"\n        title=\"Bookshop JSON Schemas\"\n        src=\"/static/eb492b28aed9cd80787b9c27ac2f4566/f43e4/api-platform-2.6-bookshop-json-schemas.png\"\n        srcset=\"/static/eb492b28aed9cd80787b9c27ac2f4566/908b1/api-platform-2.6-bookshop-json-schemas.png 280w,\n/static/eb492b28aed9cd80787b9c27ac2f4566/b06ae/api-platform-2.6-bookshop-json-schemas.png 560w,\n/static/eb492b28aed9cd80787b9c27ac2f4566/f43e4/api-platform-2.6-bookshop-json-schemas.png 1120w,\n/static/eb492b28aed9cd80787b9c27ac2f4566/21cdd/api-platform-2.6-bookshop-json-schemas.png 1680w,\n/static/eb492b28aed9cd80787b9c27ac2f4566/7b67d/api-platform-2.6-bookshop-json-schemas.png 2240w,\n/static/eb492b28aed9cd80787b9c27ac2f4566/6149e/api-platform-2.6-bookshop-json-schemas.png 2784w\"\n        sizes=\"(max-width: 1120px) 100vw, 1120px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>The framework also use these metadata to serialize and deserialize data from JSON (and other formats) to PHP objects (back and forth)!</p>\n<p>For the sake of simplicity, in this example we used public properties (except for the id, see below). API Platform (as well\nas Symfony and Doctrine) also supports accessor methods (getters/setters), use them if you want to.\nWe used a private property and a getter for the ID to enforce the fact that it is read only (we will let the DBMS generating it). API Platform also has first-grade support for UUIDs. <a href=\"https://www.clever-cloud.com/blog/engineering/2015/05/20/why-auto-increment-is-a-terrible-idea/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">You should\nprobably use them instead of auto-incremented IDs</a>.</p>\n<p>Because API Platform provides all the infrastructure for us, our API is almost ready!</p>\n<p>The only remaining task to have a working API is to be able to query and persist data.</p>\n<h2 id=\"plugging-the-persistence-system\" style=\"position:relative;\"><a href=\"#plugging-the-persistence-system\" aria-label=\"plugging the persistence system permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Plugging the Persistence System</h2>\n<p>To retrieve and save data, API Platform proposes two main options (and we can mix them):</p>\n<ol>\n<li>Writing our own <a href=\"/docs/core/data-providers/\">data providers</a> and <a href=\"/docs/core/data-persisters/\">data persisters</a> to fetch and save data in any persistence system and trigger our custom business logic. This is what we recommend if you want to separate the public data model exposed by the API from the internal one, and to implement a layered architecture such as Clean Architecture or Hexagonal Architecture;</li>\n<li>Using one of the various existing data providers and persisters allowing to automatically fetch and persist data using popular persistence libraries. Out of the box, data providers and persisters are provided for <a href=\"https://www.doctrine-project.org/projects/orm.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Doctrine ORM</a> and <a href=\"/docs/core/mongodb/\">Doctrine MongoDB ODM</a>.\nA data provider (but no persister yet) is also available for <a href=\"/docs/core/elasticsearch/\">Elasticsearch</a>. <a href=\"https://github.com/pomm-project/pomm-api-platform\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Pomm</a> and <a href=\"https://github.com/soyuka/esql#api-platform-bridge\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">PHP Extended SQL</a> also provides data providers and persisters for API Platform. We recommend this approach for Rapid Application Development.</li>\n</ol>\n<p>Be sure to read the <a href=\"/docs/core/design/\">General Design Considerations</a> document to learn more about the architecture of API Platform and how to choose between these two approaches.</p>\n<p>Here, we will use the built-in Doctrine ORM data provider in the rest of this tutorial.</p>\n<p>Modify the classes to map them to database tables using the annotations provided by the Doctrine ORM.</p>\n<p>Modify these files as described in these patches:</p>\n<p><code class=\"language-text\">api/src/Entity/Book.php</code></p>\n<div class=\"gatsby-highlight\" data-language=\"diff\"><pre class=\"language-diff\"><code class=\"language-diff\"><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span>use ApiPlatform\\Core\\Annotation\\ApiResource;\n<span class=\"token prefix unchanged\"> </span>use Doctrine\\Common\\Collections\\ArrayCollection;\n</span><span class=\"token inserted-sign inserted\"><span class=\"token prefix inserted\">+</span>use Doctrine\\ORM\\Mapping as ORM;\n</span><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span>\n<span class=\"token prefix unchanged\"> </span>/** A book. */\n</span><span class=\"token inserted-sign inserted\"><span class=\"token prefix inserted\">+</span>#[ORM\\Entity]\n</span><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span>#[ApiResource]\n<span class=\"token prefix unchanged\"> </span>class Book\n<span class=\"token prefix unchanged\"> </span>{\n<span class=\"token prefix unchanged\"> </span>    /** The id of this book. */\n</span><span class=\"token inserted-sign inserted\"><span class=\"token prefix inserted\">+</span>    #[ORM\\Id, ORM\\Column, ORM\\GeneratedValue]\n</span><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span>    private ?int $id = null;\n<span class=\"token prefix unchanged\"> </span>\n<span class=\"token prefix unchanged\"> </span>    /** The ISBN of this book (or null if doesn't have one). */\n</span><span class=\"token inserted-sign inserted\"><span class=\"token prefix inserted\">+</span>    #[ORM\\Column(nullable: true)]\n</span><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span>    public ?string $isbn = null;\n<span class=\"token prefix unchanged\"> </span>\n<span class=\"token prefix unchanged\"> </span>    /** The title of this book. */\n</span><span class=\"token inserted-sign inserted\"><span class=\"token prefix inserted\">+</span>    #[ORM\\Column]\n</span><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span>    public string $title = '';\n<span class=\"token prefix unchanged\"> </span>\n<span class=\"token prefix unchanged\"> </span>    /** The description of this book. */\n</span><span class=\"token inserted-sign inserted\"><span class=\"token prefix inserted\">+</span>    #[ORM\\Column(type: 'text')]\n</span><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span>    public string $description = '';\n<span class=\"token prefix unchanged\"> </span>\n<span class=\"token prefix unchanged\"> </span>    /** The author of this book. */\n</span><span class=\"token inserted-sign inserted\"><span class=\"token prefix inserted\">+</span>    #[ORM\\Column]\n</span><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span>    public string $author = '';\n<span class=\"token prefix unchanged\"> </span>\n<span class=\"token prefix unchanged\"> </span>    /** The publication date of this book. */\n</span><span class=\"token inserted-sign inserted\"><span class=\"token prefix inserted\">+</span>    #[ORM\\Column]\n</span><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span>    public ?\\DateTimeImmutable $publicationDate = null;\n<span class=\"token prefix unchanged\"> </span>\n<span class=\"token prefix unchanged\"> </span>    /** @var Review[] Available reviews for this book. */\n</span><span class=\"token inserted-sign inserted\"><span class=\"token prefix inserted\">+</span>    #[ORM\\OneToMany(targetEntity: Review::class, mappedBy: 'book', cascade: ['persist', 'remove'])]\n</span><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span>    public iterable $reviews;\n<span class=\"token prefix unchanged\"> </span>\n<span class=\"token prefix unchanged\"> </span>    public function __construct()</span></code></pre></div>\n<p><code class=\"language-text\">api/src/Entity/Review.php</code></p>\n<div class=\"gatsby-highlight\" data-language=\"diff\"><pre class=\"language-diff\"><code class=\"language-diff\"><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span>namespace App\\Entity;\n<span class=\"token prefix unchanged\"> </span>\n<span class=\"token prefix unchanged\"> </span>use ApiPlatform\\Core\\Annotation\\ApiResource;\n</span><span class=\"token inserted-sign inserted\"><span class=\"token prefix inserted\">+</span>use Doctrine\\ORM\\Mapping as ORM;\n</span><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span>\n<span class=\"token prefix unchanged\"> </span>/** A review of a book. */\n</span><span class=\"token inserted-sign inserted\"><span class=\"token prefix inserted\">+</span>#[ORM\\Entity]\n</span><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span>#[ApiResource]\n<span class=\"token prefix unchanged\"> </span>class Review\n<span class=\"token prefix unchanged\"> </span>{\n<span class=\"token prefix unchanged\"> </span>    /** The id of this review. */\n</span><span class=\"token inserted-sign inserted\"><span class=\"token prefix inserted\">+</span>    #[ORM\\Id, ORM\\Column, ORM\\GeneratedValue]\n</span><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span>    private ?int $id = null;\n<span class=\"token prefix unchanged\"> </span>\n<span class=\"token prefix unchanged\"> </span>    /** The rating of this review (between 0 and 5). */\n</span><span class=\"token inserted-sign inserted\"><span class=\"token prefix inserted\">+</span>    #[ORM\\Column(type: 'smallint')]\n</span><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span>    public int $rating = 0;\n<span class=\"token prefix unchanged\"> </span>\n<span class=\"token prefix unchanged\"> </span>    /** The body of the review. */\n</span><span class=\"token inserted-sign inserted\"><span class=\"token prefix inserted\">+</span>    #[ORM\\Column(type: 'text')]\n</span><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span>    public string $body = '';\n<span class=\"token prefix unchanged\"> </span>\n<span class=\"token prefix unchanged\"> </span>    /** The author of the review. */\n</span><span class=\"token inserted-sign inserted\"><span class=\"token prefix inserted\">+</span>    #[ORM\\Column]\n</span><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span>    public string $author = '';\n<span class=\"token prefix unchanged\"> </span>\n<span class=\"token prefix unchanged\"> </span>    /** The date of publication of this review.*/\n</span><span class=\"token inserted-sign inserted\"><span class=\"token prefix inserted\">+</span>    #[ORM\\Column]\n</span><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span>    public ?\\DateTimeImmutable $publicationDate = null;\n<span class=\"token prefix unchanged\"> </span>\n<span class=\"token prefix unchanged\"> </span>    /** The book this review is about. */\n</span><span class=\"token inserted-sign inserted\"><span class=\"token prefix inserted\">+</span>    #[ORM\\ManyToOne(inversedBy: 'reviews')]\n</span><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span>    public ?Book $book = null;\n<span class=\"token prefix unchanged\"> </span>\n<span class=\"token prefix unchanged\"> </span>    public function getId(): ?int</span></code></pre></div>\n<p><strong>Tip</strong>: you can also use Symfony <a href=\"https://symfonycasts.com/screencast/symfony-fundamentals/maker-command?cid=apip\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">MakerBundle</a> thanks to the <code class=\"language-text\">--api-resource</code> option:</p>\n<div class=\"gatsby-highlight\" data-language=\"console\"><pre class=\"language-console\"><code class=\"language-console\">docker-compose exec php \\\n    bin/console make:entity --api-resource</code></pre></div>\n<p>Doctrine's annotations map these entities to tables in the database. Annotations are convenient as they allow grouping\nthe code and the configuration but, if you want to decouple classes from their metadata, you can switch to XML or YAML mappings.\nThey are supported as well.</p>\n<p>Learn more about how to map entities with the Doctrine ORM in <a href=\"https://docs.doctrine-project.org/projects/doctrine-orm/en/latest/reference/association-mapping.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">the project's official documentation</a>\nor in KÃ©vin's book \"<a href=\"https://www.amazon.fr/gp/product/B00HEGSKYQ/ref=as_li_tl?ie=UTF8&#x26;camp=1642&#x26;creative=6746&#x26;creativeASIN=B00HEGSKYQ&#x26;linkCode=as2&#x26;tag=kevidung-21\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Persistence in PHP with the Doctrine ORM</a>\".</p>\n<p>Now, delete the file <code class=\"language-text\">api/src/Entity/Greeting.php</code>. This demo entity isn't useful anymore.\nFinally, generate a new database migration using <a href=\"https://symfony.com/doc/current/doctrine.html#migrations-creating-the-database-tables-schema\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Doctrine Migrations</a> and apply it:</p>\n<div class=\"gatsby-highlight\" data-language=\"console\"><pre class=\"language-console\"><code class=\"language-console\">docker-compose exec php \\\n    bin/console doctrine:migrations:diff\ndocker-compose exec php \\\n    bin/console doctrine:migrations:migrate</code></pre></div>\n<p>The <code class=\"language-text\">php</code> container is where your API app stands. Prefixing a command by <code class=\"language-text\">docker-compose exec php</code> allows executing the\ngiven command in this container. You may want <a href=\"http://www.linfo.org/alias.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">to create an alias</a> to make your life easier.</p>\n<p><strong>We now have a working API with read and write capabilities!</strong></p>\n<p>In Swagger UI, click on the <code class=\"language-text\">POST</code> operation of the <code class=\"language-text\">Book</code> resource type, click on \"Try it out\" and send the following JSON document as request body:</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"isbn\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"9781782164104\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"title\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Persistence in PHP with the Doctrine ORM\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"description\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"This book is designed for PHP developers and architects who want to modernize their skills through better understanding of Persistence and ORM.\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"author\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"KÃ©vin Dunglas\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"publicationDate\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"2013-12-01\"</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>You just saved a new book resource through the bookshop API! API Platform automatically transforms the JSON document to\nan instance of the corresponding PHP entity class and uses Doctrine ORM to persist it in the database.</p>\n<p>By default, the API supports <code class=\"language-text\">GET</code> (retrieve, on collections and items), <code class=\"language-text\">POST</code> (create), <code class=\"language-text\">PUT</code> (replace), <code class=\"language-text\">PATCH</code> (partial update) and <code class=\"language-text\">DELETE</code> (self-explanatory)\nHTTP methods. Don't forget to <a href=\"/docs/core/operations/#enabling-and-disabling-operations\">disable the ones you don't want</a>!</p>\n<p>Try the <code class=\"language-text\">GET</code> operation on the collection. The book we added appears. When the collection contains more than 30 items,\nthe pagination will automatically show up, <a href=\"/docs/core/pagination/\">and this is entirely configurable</a>. You may be interested\nin <a href=\"/docs/core/filters/\">adding some filters and adding sorts to the collection</a> as well.</p>\n<p>You may have noticed that some keys start with the <code class=\"language-text\">@</code> symbol in the generated JSON response (<code class=\"language-text\">@id</code>, <code class=\"language-text\">@type</code>, <code class=\"language-text\">@context</code>...)?\nAPI Platform comes with a full support of the <a href=\"https://json-ld.org/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">JSON-LD</a> format (and its <a href=\"https://www.hydra-cg.com/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Hydra</a>\nextension). It allows to build smart clients, with auto-discoverability capabilities such as the API Platform Admin that\nwe will discover in a few lines.\nIt is useful for open data, SEO and interoperability, especially when <a href=\"http://blog.schema.org/2013/06/schemaorg-and-json-ld.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">used with open vocabularies such as Schema.org</a>\nand allows to <a href=\"https://developers.google.com/search/docs/guides/intro-structured-data\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">give access to Google to your structured data</a>\nor to query your APIs in <a href=\"https://en.wikipedia.org/wiki/SPARQL\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">SPARQL</a> using <a href=\"https://jena.apache.org/documentation/io/#formats\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Apache Jena</a>).</p>\n<p>We think that JSON-LD is the best default format for a new API.\nHowever, API Platform natively <a href=\"/docs/core/content-negotiation/\">supports many other formats</a> including <a href=\"https://graphql.org/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">GraphQL</a>\n(we'll get to it), <a href=\"https://jsonapi.org/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">JSON:API</a>, <a href=\"https://github.com/zircote/Hal\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">HAL</a>, raw <a href=\"https://www.json.org/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">JSON</a>,\n<a href=\"https://www.w3.org/XML/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">XML</a> (experimental) and even <a href=\"https://yaml.org/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">YAML</a> and <a href=\"https://en.wikipedia.org/wiki/Comma-separated_values\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">CSV</a>.\nYou can also easily <a href=\"/docs/core/content-negotiation/\">add support for other formats</a> and it's up to you to choose which format\nto enable and to use by default.</p>\n<p>Now, add a review for this book using the <code class=\"language-text\">POST</code> operation for the <code class=\"language-text\">Review</code> resource:</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"book\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"/books/1\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"rating\"</span><span class=\"token operator\">:</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"body\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Interesting book!\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"author\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"KÃ©vin\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"publicationDate\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"September 21, 2016\"</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><strong>Note:</strong> If you have installed API Platform in an existing project using <code class=\"language-text\">composer</code>, the content of the key <code class=\"language-text\">book</code> must be <code class=\"language-text\">\"/api/books/1\"</code></p>\n<p>There are two interesting things to mention about this request:</p>\n<p>First, we learned how to work with relations. In a hypermedia API, every resource is identified by an (unique) <a href=\"https://en.wikipedia.org/wiki/Internationalized_Resource_Identifier\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">IRI</a>.\nA URL is a valid IRI, and it's what API Platform uses. The <code class=\"language-text\">@id</code> property of every JSON-LD document contains the IRI identifying\nit. You can use this IRI to reference this document from other documents. In the previous request, we used the IRI of the\nbook we created earlier to link it with the <code class=\"language-text\">Review</code> we were creating. API Platform is smart enough to deal with IRIs.\nBy the way, you may want to <a href=\"/docs/core/serialization/\">embed documents</a> instead of referencing them\n(e.g. to reduce the number of HTTP requests). You can even <a href=\"/docs/core/filters/#property-filter\">let the client select only the properties it needs</a>.</p>\n<p>The other interesting thing is how API Platform handles dates (the <code class=\"language-text\">publicationDate</code> property). API Platform understands\n<a href=\"https://www.php.net/manual/en/datetime.formats.date.php\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">any date format supported by PHP</a>. In production we strongly recommend\nusing the format specified by the <a href=\"https://tools.ietf.org/html/rfc3339\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">RFC 3339</a>, but, as you can see, most common formats\nincluding <code class=\"language-text\">September 21, 2016</code> can be used.</p>\n<p>To summarize, if you want to expose any entity you just have to:</p>\n<ol>\n<li>Put it under the <code class=\"language-text\">App\\Entity\\</code> namespace</li>\n<li>Write your data providers and persisters, or if you use Doctrine, map it with the database</li>\n<li>Mark it with the <code class=\"language-text\">#[ApiPlatform\\Core\\Annotation\\ApiResource]</code> attribute</li>\n</ol>\n<p>Could it be any easier?!</p>\n<h2 id=\"validating-data\" style=\"position:relative;\"><a href=\"#validating-data\" aria-label=\"validating data permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Validating Data</h2>\n<p>Now try to add another book by issuing a <code class=\"language-text\">POST</code> request to <code class=\"language-text\">/books</code> with the following body:</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"isbn\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"2815840053\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"description\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Hello\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"author\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Me\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"publicationDate\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"today\"</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>The book is successfully created but there is a problem; we did not give it a title. It makes no sense to create a book record without a title so we really should have some validation measures in place to prevent this from being possible.</p>\n<p>API Platform comes with a bridge with <a href=\"https://symfony.com/doc/current/validation.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">the Symfony Validator Component</a>.\nAdding some of <a href=\"https://symfony.com/doc/current/validation.html#supported-constraints\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">its numerous validation constraints</a>\n(or <a href=\"https://symfony.com/doc/current/validation/custom_constraint.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">creating custom ones</a>) to our entities is enough\nto validate user-submitted data. Let's add some validation rules to our data model.</p>\n<p>Modify the following files as described in these patches:</p>\n<p><code class=\"language-text\">api/src/Entity/Book.php</code></p>\n<div class=\"gatsby-highlight\" data-language=\"diff\"><pre class=\"language-diff\"><code class=\"language-diff\"><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span>use ApiPlatform\\Core\\Annotation\\ApiResource;\n<span class=\"token prefix unchanged\"> </span>use Doctrine\\Common\\Collections\\ArrayCollection;\n<span class=\"token prefix unchanged\"> </span>use Doctrine\\ORM\\Mapping as ORM;\n</span><span class=\"token inserted-sign inserted\"><span class=\"token prefix inserted\">+</span>use Symfony\\Component\\Validator\\Constraints as Assert;\n</span>\n<span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span>    #[ORM\\Column(nullable: true)] \n</span><span class=\"token inserted-sign inserted\"><span class=\"token prefix inserted\">+</span>    #[Assert\\Isbn]\n</span><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span>    public ?string $isbn = null;     \n<span class=\"token prefix unchanged\"> </span>\n<span class=\"token prefix unchanged\"> </span>    #[ORM\\Column]\n</span><span class=\"token inserted-sign inserted\"><span class=\"token prefix inserted\">+</span>    #[Assert\\NotBlank]\n</span><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span>    public string $title = '';\n<span class=\"token prefix unchanged\"> </span>\n<span class=\"token prefix unchanged\"> </span>    #[ORM\\Column(type: 'text')]\n</span><span class=\"token inserted-sign inserted\"><span class=\"token prefix inserted\">+</span>    #[Assert\\NotBlank]\n</span><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span>    public string $description = '';\n<span class=\"token prefix unchanged\"> </span>\n<span class=\"token prefix unchanged\"> </span>    #[ORM\\Column] \n</span><span class=\"token inserted-sign inserted\"><span class=\"token prefix inserted\">+</span>    #[Assert\\NotBlank]\n</span><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span>    public string $author = '';\n<span class=\"token prefix unchanged\"> </span>\n<span class=\"token prefix unchanged\"> </span>    #[ORM\\Column]\n</span><span class=\"token inserted-sign inserted\"><span class=\"token prefix inserted\">+</span>    #[Assert\\NotNull]\n</span><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span>    public ?\\DateTimeImmutable $publicationDate = null;</span></code></pre></div>\n<p><code class=\"language-text\">api/src/Entity/Review.php</code></p>\n<div class=\"gatsby-highlight\" data-language=\"diff\"><pre class=\"language-diff\"><code class=\"language-diff\"><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span>use ApiPlatform\\Core\\Annotation\\ApiResource;\n<span class=\"token prefix unchanged\"> </span>use Doctrine\\ORM\\Mapping as ORM;\n</span><span class=\"token inserted-sign inserted\"><span class=\"token prefix inserted\">+</span>use Symfony\\Component\\Validator\\Constraints as Assert;\n</span>\n<span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span>    #[ORM\\Column(type: 'smallint')]   \n</span><span class=\"token inserted-sign inserted\"><span class=\"token prefix inserted\">+</span>    #[Assert\\Range(min: 0, max: 5)]\n</span><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span>    public int $rating = 0;\n<span class=\"token prefix unchanged\"> </span>\n<span class=\"token prefix unchanged\"> </span>    #[ORM\\Column(type: 'text')]\n</span><span class=\"token inserted-sign inserted\"><span class=\"token prefix inserted\">+</span>    #[Assert\\NotBlank]\n</span><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span>    public string $body = '';\n<span class=\"token prefix unchanged\"> </span>\n<span class=\"token prefix unchanged\"> </span>    #[ORM\\Column]\n</span><span class=\"token inserted-sign inserted\"><span class=\"token prefix inserted\">+</span>    #[Assert\\NotBlank]\n</span><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span>    public string $author = '';\n<span class=\"token prefix unchanged\"> </span>\n<span class=\"token prefix unchanged\"> </span>    #[ORM\\Column] \n</span><span class=\"token inserted-sign inserted\"><span class=\"token prefix inserted\">+</span>    #[Assert\\NotNull]\n</span><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span>    public ?\\DateTimeImmutable $publicationDate = null;\n<span class=\"token prefix unchanged\"> </span>\n<span class=\"token prefix unchanged\"> </span>    #[ORM\\ManyToOne(inversedBy: 'reviews')] \n</span><span class=\"token inserted-sign inserted\"><span class=\"token prefix inserted\">+</span>    #[Assert\\NotNull]\n</span><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span>    public ?Book $book = null;\n<span class=\"token prefix unchanged\"> </span>\n<span class=\"token prefix unchanged\"> </span>    public function getId(): ?int</span></code></pre></div>\n<p>After updating the entities by adding those <code class=\"language-text\">#[Assert\\*]</code> attributes (as with Doctrine, you can also use XML or YAML), try\nagain the previous <code class=\"language-text\">POST</code> request.</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"@context\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"/contexts/ConstraintViolationList\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"@type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"ConstraintViolationList\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"hydra:title\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"An error occurred\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"hydra:description\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"isbn: This value is neither a valid ISBN-10 nor a valid ISBN-13.\\ntitle: This value should not be blank.\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"violations\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"propertyPath\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"isbn\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"message\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"This value is neither a valid ISBN-10 nor a valid ISBN-13.\"</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"propertyPath\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"title\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"message\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"This value should not be blank.\"</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>You now get proper validation error messages, always serialized using the Hydra error format (<a href=\"https://tools.ietf.org/html/rfc7807\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">RFC 7807</a>\nis also supported).\nThose errors are easy to parse client-side. By adding the proper validation constraints, we also noticed that the provided\nISBN isn't valid...</p>\n<h2 id=\"adding-graphql-support\" style=\"position:relative;\"><a href=\"#adding-graphql-support\" aria-label=\"adding graphql support permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Adding GraphQL Support</h2>\n<p>Isn't API Platform a REST <strong>and</strong> GraphQL framework? That's true! GraphQL support isn't enabled by default. To add it we\nneed to install the <a href=\"https://webonyx.github.io/graphql-php/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">graphql-php</a> library. Run the following command:</p>\n<div class=\"gatsby-highlight\" data-language=\"console\"><pre class=\"language-console\"><code class=\"language-console\">docker-compose exec php sh -c &#39;\n    composer require webonyx/graphql-php\n    bin/console cache:clear\n&#39;</code></pre></div>\n<p>You now have a GraphQL API! Open <code class=\"language-text\">https://localhost/graphql</code> (or <code class=\"language-text\">https://localhost/api/graphql</code> if you used Symfony Flex to install API Platform) to play with it using the nice <a href=\"https://github.com/graphql/graphiql\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">GraphiQL</a>\nUI that is shipped with API Platform:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1120px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 66.42857142857143%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABYlAAAWJQFJUiTwAAACd0lEQVQ4y62SXUhUQRSA5ymiqMhMWWI3dCXKBMXFSKgno4eoh3xxM8z+VIR8iIIQCgqCIl0zF3bXoh9MvAv1GAWVuBolgZGtu635kwQm6ea692/m3h3vnObu5l8qvnTg48wwnO+cA4P2Z2dZC3N2tBXszfMfOljScezwEeHAvmJhj822gNXEKuzm5PJ7lsUiWLZnCBlb04TNGzYKlrRtHdmZmc9t6elFyF7qLCqoqQN7ZTVkV1TBrnO1UFx3CXLPX4Csyhqwn06Rc6Y2ie1UFZRcvALVN29D+dXrUF5/DY5eroedJ8+C9XhZBbrR7i/0ByPYHxkxng2OJjpCQ/TF8Bj1h77RtmCEtg8M0qc8P/j4mT76NEDv9wXpK/7+5VeU9k1M0uDUNH3346fe1h+Guy9fl6H+3g8Ooio60XXgwVZDl1UWmxEZzBrMSCQYIYRpRGMEE0Z13YAEhbGhISd609npUFVVjyoqxDFmPHiNsYQEpaCoGManZ2BifAqUGRmUuAJyjGdRYSomhsTrB0JhJ3prChU+IS+K827JMbl0DjMMLlW5MCYp8H0yCrKkAsYE1BQME80wG4a/Rpyoq6vLIYpict+UiwEsXJYITUFMkkGaExJtuTAQCCRXnrctmmyxUOYrmRAuwabIzCtN2NPT49A0bV64eN0lQllJif6uuurK3d3dDoyxZhYbqWD/QillsqIwXrQSpmzWnD4UCpeh3ve9Dv4xZmGNYGu8898EwyOjJ9Ctx035D4Unv1u9Ptnn84kej0fyer0SPyez2+2WmpubpUaXS3K5mpbR2OgS77W0xH2trfqdhoZShPI3rUfrUB7ip//Alj9XiRICVfYVYAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"GraphQL endpoint\"\n        title=\"GraphQL endpoint\"\n        src=\"/static/61acc01888cf0122fbe8f3dfe6c9936c/f43e4/api-platform-2.6-graphql.png\"\n        srcset=\"/static/61acc01888cf0122fbe8f3dfe6c9936c/908b1/api-platform-2.6-graphql.png 280w,\n/static/61acc01888cf0122fbe8f3dfe6c9936c/b06ae/api-platform-2.6-graphql.png 560w,\n/static/61acc01888cf0122fbe8f3dfe6c9936c/f43e4/api-platform-2.6-graphql.png 1120w,\n/static/61acc01888cf0122fbe8f3dfe6c9936c/21cdd/api-platform-2.6-graphql.png 1680w,\n/static/61acc01888cf0122fbe8f3dfe6c9936c/7b67d/api-platform-2.6-graphql.png 2240w,\n/static/61acc01888cf0122fbe8f3dfe6c9936c/6149e/api-platform-2.6-graphql.png 2784w\"\n        sizes=\"(max-width: 1120px) 100vw, 1120px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>Try it out by creating a greeting:</p>\n<div class=\"gatsby-highlight\" data-language=\"graphql\"><pre class=\"language-graphql\"><code class=\"language-graphql\"><span class=\"token keyword\">mutation</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property-query property-mutation\">createGreeting</span><span class=\"token punctuation\">(</span><span class=\"token attr-name\">input</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span><span class=\"token attr-name\">name</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Test2\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token object\">greeting</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">id</span>\n      <span class=\"token property\">name</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>And by reading out the greeting:</p>\n<div class=\"gatsby-highlight\" data-language=\"graphql\"><pre class=\"language-graphql\"><code class=\"language-graphql\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property-query\">greeting</span><span class=\"token punctuation\">(</span><span class=\"token attr-name\">id</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"/greetings/1\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">id</span>\n    <span class=\"token property\">name</span>\n    <span class=\"token property\">_id</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>You can also try things a bit more complex:</p>\n<div class=\"gatsby-highlight\" data-language=\"graphql\"><pre class=\"language-graphql\"><code class=\"language-graphql\"><span class=\"token punctuation\">{</span>\n  <span class=\"token object\">books</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">totalCount</span>\n    <span class=\"token object\">edges</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token object\">node</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">id</span>\n        <span class=\"token property\">title</span>\n        <span class=\"token object\">reviews</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token property\">totalCount</span>\n          <span class=\"token object\">edges</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token object\">node</span> <span class=\"token punctuation\">{</span>\n              <span class=\"token property\">author</span>\n              <span class=\"token property\">rating</span>\n            <span class=\"token punctuation\">}</span>\n          <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>The GraphQL implementation supports <a href=\"https://graphql.org/learn/queries/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">queries</a>, <a href=\"https://graphql.org/learn/queries/#mutations\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">mutations</a>,\n<a href=\"https://facebook.github.io/relay/docs/en/graphql-server-specification.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">100% of the Relay server specification</a>, pagination,\n<a href=\"/docs/core/filters/\">filters</a> and <a href=\"/docs/core/security/\">access control rules</a>.\nYou can use it with the popular <a href=\"https://facebook.github.io/relay/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">RelayJS</a> and <a href=\"https://www.apollographql.com/docs/react/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Apollo</a>\nclients.</p>\n<h2 id=\"the-admin\" style=\"position:relative;\"><a href=\"#the-admin\" aria-label=\"the admin permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>The Admin</h2>\n<p>Wouldn't it be nice to have an administration backend to manage the data exposed by your API?\nWait... You already have one!</p>\n<p>Open <code class=\"language-text\">https://localhost/admin/</code> in your browser:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1120px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 66.42857142857143%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABYlAAAWJQFJUiTwAAACKUlEQVQ4y52RTWsTURSGZ+nO4kcTGmIDAamtdbBjFETB9icIpVUpiI3WBGttwD+Q5JcIdly4FcRFwIWNKdamLmw+FnGh+ZqYRJOZycyde4/nTJMSsAvjhYc3555z3nNPRroSmPTLwYkXMxdmXs3fWNhauDmvXleuquf9fjU44VMnPR713Pi4qwGPVw14va4GfYc579gY5bf8Z86+9p06HZKmF++GrkWeQmhtHabvr4HyGH9HN0GJPAP54RMIRTbg1sZzV+cercOlcNTlMtbPrkZhaiUMsw8iIK9GYGrx3or08u27ufe5orH7vcz36w17r1Jnw3ypN1juZ9vV/VqDZasay9Y0tletY6yxzxinf1StnXIV3ux8WpJ2Mx+VXqdjAWMAQgjgziEYDWCmISjpxg4TzNBdBeeojpN8KxaXpQ/b24puGJZl22D2esJGY06+iGGadAflSgWqtRowx3FxOD+Cc6wUgtP914ODZSmdTisGGtpoaFmWIMUYTDTTNA1arRaUSiXI5/PuPdHDIWgEdHTmCMYFN/Eh+Vzub0MHJ9Fxt+83NZtN6Ha7MDiUI7AesE9gHaf+3HGGpAMYTiWlIcRwjtB1nRDYx2mjYw1p6r/SN6ZHcIqHDXt9Q943HQXqceh/RcMlKZPJKBg4tBKtOFhvVOhBhULhjpRKpeQGnna73cEv+gv5PSLU08YPZ2Wz2dtSOBw+kUwmLyYSCfl/icfjMnrIsVjs5B98/kmqXvx1vAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"The admin\"\n        title=\"The admin\"\n        src=\"/static/118e83a3cf39ae33389cf4085230677b/f43e4/api-platform-2.6-admin.png\"\n        srcset=\"/static/118e83a3cf39ae33389cf4085230677b/908b1/api-platform-2.6-admin.png 280w,\n/static/118e83a3cf39ae33389cf4085230677b/b06ae/api-platform-2.6-admin.png 560w,\n/static/118e83a3cf39ae33389cf4085230677b/f43e4/api-platform-2.6-admin.png 1120w,\n/static/118e83a3cf39ae33389cf4085230677b/21cdd/api-platform-2.6-admin.png 1680w,\n/static/118e83a3cf39ae33389cf4085230677b/7b67d/api-platform-2.6-admin.png 2240w,\n/static/118e83a3cf39ae33389cf4085230677b/6149e/api-platform-2.6-admin.png 2784w\"\n        sizes=\"(max-width: 1120px) 100vw, 1120px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>This <a href=\"https://material.io/guidelines/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Material Design</a> admin is a <a href=\"https://developers.google.com/web/progressive-web-apps/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Progressive Web App</a>\nbuilt with <a href=\"/docs/admin/\">API Platform Admin</a> (<a href=\"https://marmelab.com/react-admin/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">React Admin</a> inside!). It is powerful and fully customizable.\nRefer to its documentation to learn more.\nIt leverages the Hydra documentation exposed by the API component to build itself. It's 100% dynamic - <strong>no code generation\noccurs</strong>.</p>\n<h2 id=\"a-nextjs-web-app\" style=\"position:relative;\"><a href=\"#a-nextjs-web-app\" aria-label=\"a nextjs web app permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>A Next.js Web App</h2>\n<p>API Platform also has an awesome <a href=\"/docs/client-generator/\">client generator</a> able to scaffold fully working Next.js, Nuxt.js, React/Redux, Vue.js, Quasar and Vuetify Progressive Web Apps that you can easily tune and customize. The generator also supports\n<a href=\"https://facebook.github.io/react-native/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">React Native</a> if you prefer to leverage all capabilities of mobile devices.</p>\n<p>The distribution comes with a skeleton ready to welcome the <a href=\"https://nextjs.org/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Next.js</a> flavor of the generated code. To bootstrap your app, run:</p>\n<div class=\"gatsby-highlight\" data-language=\"console\"><pre class=\"language-console\"><code class=\"language-console\">docker-compose exec pwa \\\n    generate-api-platform-client</code></pre></div>\n<p>Open <code class=\"language-text\">https://localhost/books/</code> in your browser:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1120px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 66.42857142857143%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABYlAAAWJQFJUiTwAAAB70lEQVQ4y62QS2sTURiGz6aS5mKs4MqKoChUSgMdu/FndNO4cBvEhav8hSR0YVC3KhVr50Qmv8FqELSEUBe5lJBMTFsy90nHCZq5nPN5ZppFq6tRP3j4zu19z3sOWlq8eu3m9StvFm/cqqys3uPvrNzFt5eW8cLCZZxMphgXfyOFE4kUTqcvsZ7Ec3MXcDye5OfnE9VYLL6GHj56vFbafAJPnz2HFy9fQbVaDRGEKlQq74Dn8TkwroQIghD2ra3XsLPDw/b2WyiXyw/Q+ubn1fKH6Y+fHhAAcBneX+AwQNe0DfSx9omTdNsxzDGYpkklWaYywzBMOhh8o6ORRBVFpZIk0fF4THXdoLKi0BGbHx0fh2uyZhJFP4FWu5NF73d3uSPZdDTdAFVV6HA4hOHhITAj6BwchLQ7HWi12iCKA9B1nZ1Tg8tB09iYmWumRVTDgv39r1m0t/eFc52pQwkBQghrwcvZOzwPXNcNx5TSsAd7vu+f66can3ieC91uN4vq9Trn+X74B4EWolegIcGl/X5/Zuh5zixJUBARehqeQK/X+9MwcrwzhmcTTmebhEavQOPPEm6gRqPBsYkP/6FEUbyParVaxrIsfTKZ2AyL8T0igebEtm2n2Wyuo1wuFysWi8uFQiHzL5RKpUw+n0//AgZMXe+Hr9aEAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"The Next.js Progressive Web App\"\n        title=\"The Next.js Progressive Web App\"\n        src=\"/static/6e960616c03f360bafcd2f3a38ef0c5e/f43e4/api-platform-2.6-pwa-react.png\"\n        srcset=\"/static/6e960616c03f360bafcd2f3a38ef0c5e/908b1/api-platform-2.6-pwa-react.png 280w,\n/static/6e960616c03f360bafcd2f3a38ef0c5e/b06ae/api-platform-2.6-pwa-react.png 560w,\n/static/6e960616c03f360bafcd2f3a38ef0c5e/f43e4/api-platform-2.6-pwa-react.png 1120w,\n/static/6e960616c03f360bafcd2f3a38ef0c5e/21cdd/api-platform-2.6-pwa-react.png 1680w,\n/static/6e960616c03f360bafcd2f3a38ef0c5e/7b67d/api-platform-2.6-pwa-react.png 2240w,\n/static/6e960616c03f360bafcd2f3a38ef0c5e/6149e/api-platform-2.6-pwa-react.png 2784w\"\n        sizes=\"(max-width: 1120px) 100vw, 1120px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>You can also choose to generate the code for a specific resource with the <code class=\"language-text\">--resource</code> argument (example:\n<code class=\"language-text\">generate-api-platform-client --resource books</code>).</p>\n<p>The generated code contains a list (including pagination), a delete button, a creation and an edition form. It also includes\n<a href=\"https://getbootstrap.com\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Bootstrap</a> markup and <a href=\"https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">ARIA roles</a>\nto make the app usable by people with disabilities.</p>\n<p>If you prefer to generate a PWA built on top of another frontend stack, read <a href=\"/docs/client-generator/\">the dedicated documentation</a>.</p>\n<h2 id=\"hooking-your-own-business-logic\" style=\"position:relative;\"><a href=\"#hooking-your-own-business-logic\" aria-label=\"hooking your own business logic permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Hooking Your Own Business Logic</h2>\n<p>Now that you learned the basics, be sure to read <a href=\"/docs/core/design/\">the general design considerations</a> and <a href=\"/docs/core/extending/\">how to extend API Platform</a> to understand how API Platform is designed, and how to hook your custom business logic!</p>\n<h2 id=\"other-features\" style=\"position:relative;\"><a href=\"#other-features\" aria-label=\"other features permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Other Features</h2>\n<p>First, you may want to learn <a href=\"/docs/deployment/\">how to deploy your application</a> in the cloud using <a href=\"/docs/deployment/kubernetes/\">the built-in Kubernetes\nintegration</a>.</p>\n<p>Then, there are many more features to learn! Read <a href=\"/docs/core/\">the full documentation</a> to discover how to use them\nand how to extend API Platform to fit your needs.\nAPI Platform is incredibly efficient for prototyping and Rapid Application Development (RAD), but the framework is mostly\ndesigned to create complex API-driven projects, far beyond simple CRUD apps. It benefits from <a href=\"/docs/core/extending/\"><strong>strong extension points</strong></a>\nand it is <strong>continuously optimized for <a href=\"/docs/core/performance/\">performance</a>.</strong> It powers numerous high traffic websites.</p>\n<p>API Platform has a built-in HTTP cache invalidation system which allows to make API Platform apps blazing fast using <a href=\"https://varnish-cache.org/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Varnish</a>. Read more in the chapter\n<a href=\"/docs/core/performance/#enabling-the-built-in-http-cache-invalidation-system\">API Platform Core Library: Enabling the Built-in HTTP Cache Invalidation System</a>.</p>\n<p>Keep in mind that you can use your favorite client-side technology: API Platform provides generators for popular JavaScript frameworks, but you can also use your preferred client-side technology including Angular, Ionic and Swift directly. Any language able to send HTTP\nrequests is OK (even COBOL can do that).</p>\n<p>To go further, the API Platform team maintains a demo application showing more advanced use cases like leveraging serialization\ngroups, user management or JWT and OAuth authentication. <a href=\"https://github.com/api-platform/demo\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Checkout the demo code source on GitHub</a>\nand <a href=\"https://demo.api-platform.com\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">browse it online</a>.</p>\n<h2 id=\"screencasts\" style=\"position:relative;\"><a href=\"#screencasts\" aria-label=\"screencasts permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Screencasts</h2>\n<p align=\"center\" class=\"symfonycasts\"><a href=\"https://symfonycasts.com/tracks/rest?cid=apip#api-platform\"><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 350px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 56.42857142857143%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABz0lEQVQoz5VQTWsaURSdHxe/UKoIQvxEsVUEcSEuXLhQV65qNwX/Rn5AwE1Ca9OkTZpUiqk0IEw0oxNnnBknvjl579ZpTWmhuXC479177nnnPslxHIgQmXFsb3R/DnRdp0nJFfsdDjZ4XjwR3HX4RXVwKAML3YS2VMEYg71eY7FQYBgrPDzY2Gw2MFY61rwuziL/VXBqOnj9leFgAmiGicvzU5ydDjC8usCH90c4/3SCi88fcXbyDjc/vmM2lan2bXgJTVvyBw0SlhhzhD2oFsNwwXDFcWsw3M9nUJQ7MO7Ctm2suCvLsnA3m5JDbXlP0HWN99cwTYs2kv7nf2RZ5uLKPzlCaDKZ/Fx5Pp/DhaLsQoGqqhiNRuj3+xgMBhiPx1QTPRfEub7G0fExaUjJZBJ/IpVKIZ1OIx6Po1QqoV6vo1KpoFAoIJFIUE9wkgL7+4i9fIX8m7fUk4LBIHYRCoXg8/ng8Xjg9/sRCAQQi8UQjUZ/1d2e4IoZj9eLPc7z8iyFw2G4iEQiRCiXy+j1emg0Gmg2m2i32+h0Ouh2u+S21WqRWyEoZmh2q/FEUECQ8vk8qtUqcrkcstksrVur1SiLLygWi8hkMsR1515s8yO7x8CBxJHFBQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"SymfonyCasts, API Platform screencasts\" title=\"SymfonyCasts, API Platform screencasts\" src=\"/static/15d4f39d6b8a59d2f18851c95aac069d/13ae7/symfonycasts-player.png\" srcset=\"/static/15d4f39d6b8a59d2f18851c95aac069d/908b1/symfonycasts-player.png 280w,\n/static/15d4f39d6b8a59d2f18851c95aac069d/13ae7/symfonycasts-player.png 350w\" sizes=\"(max-width: 350px) 100vw, 350px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n    </span></a></p>\n<p>The easiest and funniest way to learn how to use API Platform is to watch <a href=\"https://symfonycasts.com/tracks/rest?cid=apip#api-platform\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">the more than 60 screencasts available on SymfonyCasts</a>!</p>","nav":{"chapters":[{"title":"The Distribution: Create Powerful APIs with Ease","path":"distribution","items":[{"id":"index","title":"Getting Started With API Platform: Create Your API and Your Jamstack Site","anchors":[{"id":"introduction","title":"Introduction"},{"id":"a-bookshop-api","title":"A Bookshop API"},{"id":"installing-the-framework","title":"Installing the Framework","anchors":[{"id":"using-the-api-platform-distribution-recommended","title":"Using the API Platform Distribution (Recommended)"},{"id":"using-symfony-cli","title":"Using Symfony CLI"}]},{"id":"its-ready","title":"It's Ready"},{"id":"bringing-your-own-model","title":"Bringing your Own Model"},{"id":"plugging-the-persistence-system","title":"Plugging the Persistence System"},{"id":"validating-data","title":"Validating Data"},{"id":"adding-graphql-support","title":"Adding GraphQL Support"},{"id":"the-admin","title":"The Admin"},{"id":"a-nextjs-web-app","title":"A Next.js Web App"},{"id":"hooking-your-own-business-logic","title":"Hooking Your Own Business Logic"},{"id":"other-features","title":"Other Features"},{"id":"screencasts","title":"Screencasts"}]},{"id":"testing","title":"Testing the API","anchors":[{"id":"creating-data-fixtures","title":"Creating Data Fixtures"},{"id":"writing-functional-tests","title":"Writing Functional Tests"},{"id":"writing-unit-tests","title":"Writing Unit Tests"},{"id":"additional-and-alternative-testing-tools","title":"Additional and Alternative Testing Tools"},{"id":"using-the-api-platform-distribution-for-end-to-end-testing","title":"Using the API Platform Distribution for End-to-end Testing"}]},{"id":"debugging","title":"Debugging","anchors":[{"id":"xdebug","title":"Xdebug"},{"id":"add-a-development-stage-to-the-dockerfile","title":"Add a Development Stage to the Dockerfile"},{"id":"configure-xdebug-with-docker-compose-override","title":"Configure Xdebug with Docker Compose Override"},{"id":"troubleshooting","title":"Troubleshooting"}]},{"id":"caddy","title":"Configuring the Caddy Web Server"}]},{"title":"The API Component","path":"core","items":[{"id":"index","title":"The API Platform Core Library","anchors":[{"id":"features","title":"Features"},{"id":"screencasts","title":"Screencasts"}]},{"id":"getting-started","title":"Getting started","anchors":[{"id":"migrating-from-fosrestbundle","title":"Migrating from FOSRestBundle"},{"id":"installing-api-platform-core","title":"Installing API Platform Core"},{"id":"before-reading-this-documentation","title":"Before Reading this Documentation"},{"id":"mapping-the-entities","title":"Mapping the Entities","anchors":[{"id":"product","title":"Product"}]}]},{"id":"design","title":"General Design Considerations"},{"id":"extending","title":"Extending API Platform","anchors":[{"id":"doctrine-specific-extension-points","title":"Doctrine Specific Extension Points"},{"id":"leveraging-the-built-in-infrastructure-using-composition","title":"Leveraging the Built-in Infrastructure Using Composition"}]},{"id":"testing","title":"Testing Utilities","anchors":[{"id":"the-test-httpclient","title":"The Test HttpClient"},{"id":"api-test-assertions","title":"API Test Assertions"},{"id":"http-test-assertions","title":"HTTP Test Assertions"}]},{"id":"operations","title":"Operations","anchors":[{"id":"enabling-and-disabling-operations","title":"Enabling and Disabling Operations"},{"id":"configuring-operations","title":"Configuring Operations"},{"id":"prefixing-all-routes-of-all-operations","title":"Prefixing All Routes of All Operations"},{"id":"expose-a-model-without-any-routes","title":"Expose a Model Without Any Routes"}]},{"id":"graphql","title":"GraphQL Support","anchors":[{"id":"enabling-graphql","title":"Enabling GraphQL"},{"id":"changing-location-of-the-graphql-endpoint","title":"Changing Location of the GraphQL Endpoint"},{"id":"graphiql","title":"GraphiQL","anchors":[{"id":"add-another-location-for-graphiql","title":"Add another Location for GraphiQL"}]},{"id":"graphql-playground","title":"GraphQL Playground","anchors":[{"id":"add-another-location-for-graphql-playground","title":"Add another Location for GraphQL Playground"}]},{"id":"modifying-or-disabling-the-default-ide","title":"Modifying or Disabling the Default IDE"},{"id":"request-with-applicationgraphql-content-type","title":"Request with application/graphql Content-Type"},{"id":"operations","title":"Operations"},{"id":"queries","title":"Queries","anchors":[{"id":"global-object-identifier","title":"Global Object Identifier"},{"id":"custom-queries","title":"Custom Queries"}]},{"id":"mutations","title":"Mutations","anchors":[{"id":"client-mutation-id","title":"Client Mutation ID"},{"id":"custom-mutations","title":"Custom Mutations"}]},{"id":"subscriptions","title":"Subscriptions","anchors":[{"id":"enable-update-subscriptions-for-a-resource","title":"Enable Update Subscriptions for a Resource"},{"id":"subscribe","title":"Subscribe"},{"id":"receiving-an-update","title":"Receiving an Update"},{"id":"subscriptions-cache","title":"Subscriptions Cache"}]},{"id":"workflow-of-the-resolvers","title":"Workflow of the Resolvers","anchors":[{"id":"disabling-resolver-stages","title":"Disabling Resolver Stages"}]},{"id":"events","title":"Events"},{"id":"filters","title":"Filters","anchors":[{"id":"syntax-for-filters-with-a-list-of-key--value-arguments","title":"Syntax for Filters with a List of Key / Value Arguments"},{"id":"filtering-on-nested-properties","title":"Filtering on Nested Properties"}]},{"id":"pagination","title":"Pagination","anchors":[{"id":"using-the-cursor-based-pagination","title":"Using the Cursor-based Pagination"},{"id":"using-the-page-based-pagination","title":"Using the Page-based Pagination"},{"id":"disabling-the-pagination","title":"Disabling the Pagination","anchors":[{"id":"globally","title":"Globally"},{"id":"for-a-specific-resource","title":"For a Specific Resource"},{"id":"for-a-specific-resource-collection-operation","title":"For a Specific Resource Collection Operation"}]},{"id":"partial-pagination","title":"Partial Pagination"}]},{"id":"security","title":"Security"},{"id":"serialization-groups","title":"Serialization Groups","anchors":[{"id":"different-types-when-using-different-serialization-groups","title":"Different Types when Using Different Serialization Groups"}]},{"id":"exception-and-error","title":"Exception and Error","anchors":[{"id":"handling-exceptions-and-errors-logging-filtering-","title":"Handling Exceptions and Errors (Logging, Filtering, ...)"},{"id":"formatting-exceptions-and-errors","title":"Formatting Exceptions and Errors","anchors":[{"id":"custom-exception-normalizer","title":"Custom Exception Normalizer"}]}]},{"id":"name-conversion","title":"Name Conversion","anchors":[{"id":"nesting-separator","title":"Nesting Separator"}]},{"id":"custom-types","title":"Custom Types"},{"id":"modify-the-extracted-types","title":"Modify the Extracted Types"},{"id":"changing-the-serialization-context-dynamically","title":"Changing the Serialization Context Dynamically"},{"id":"export-the-schema-in-sdl","title":"Export the Schema in SDL"},{"id":"handling-file-upload","title":"Handling File Upload","anchors":[{"id":"configuring-the-entity-receiving-the-uploaded-file","title":"Configuring the Entity Receiving the Uploaded File"},{"id":"resolving-the-file-upload","title":"Resolving the File Upload"},{"id":"using-the-createmediaobject-mutation","title":"Using the createMediaObject Mutation"}]},{"id":"change-default-descriptions","title":"Change Default Descriptions"}]},{"id":"data-providers","title":"Data Providers","anchors":[{"id":"custom-collection-data-provider","title":"Custom Collection Data Provider"},{"id":"custom-item-data-provider","title":"Custom Item Data Provider"},{"id":"custom-subresources-data-provider","title":"Custom Subresources Data Provider"},{"id":"injecting-the-serializer-in-an-itemdataprovider","title":"Injecting the Serializer in an ItemDataProvider"},{"id":"injecting-extensions-pagination-filter-eagerloading-etc","title":"Injecting Extensions (Pagination, Filter, EagerLoading etc.)"},{"id":"community-data-providers","title":"Community Data Providers"}]},{"id":"data-persisters","title":"Data Persisters","anchors":[{"id":"creating-a-custom-data-persister","title":"Creating a Custom Data Persister"},{"id":"decorating-the-built-in-data-persisters","title":"Decorating the Built-In Data Persisters"},{"id":"calling-multiple-datapersisters","title":"Calling multiple DataPersisters"}]},{"id":"filters","title":"Filters","anchors":[{"id":"doctrine-orm-and-mongodb-odm-filters","title":"Doctrine ORM and MongoDB ODM Filters","anchors":[{"id":"basic-knowledge","title":"Basic Knowledge"},{"id":"search-filter","title":"Search Filter"},{"id":"date-filter","title":"Date Filter","anchors":[{"id":"managing-null-values","title":"Managing null Values"}]},{"id":"boolean-filter","title":"Boolean Filter"},{"id":"numeric-filter","title":"Numeric Filter"},{"id":"range-filter","title":"Range Filter"},{"id":"exists-filter","title":"Exists Filter","anchors":[{"id":"using-a-custom-exists-query-parameter-name","title":"Using a Custom Exists Query Parameter Name"}]},{"id":"order-filter-sorting","title":"Order Filter (Sorting)","anchors":[{"id":"comparing-with-null-values","title":"Comparing with Null Values"},{"id":"using-a-custom-order-query-parameter-name","title":"Using a Custom Order Query Parameter Name"}]},{"id":"filtering-on-nested-properties","title":"Filtering on Nested Properties"},{"id":"enabling-a-filter-for-all-properties-of-a-resource","title":"Enabling a Filter for All Properties of a Resource"}]},{"id":"elasticsearch-filters","title":"Elasticsearch Filters","anchors":[{"id":"ordering-filter-sorting","title":"Ordering Filter (Sorting)","anchors":[{"id":"using-a-custom-order-query-parameter-name-elastic","title":"Using a Custom Order Query Parameter Name (Elastic)"}]},{"id":"match-filter","title":"Match Filter"},{"id":"term-filter","title":"Term Filter"},{"id":"filtering-on-nested-properties-elastic","title":"Filtering on Nested Properties (Elastic)"}]},{"id":"serializer-filters","title":"Serializer Filters","anchors":[{"id":"group-filter","title":"Group Filter"},{"id":"property-filter","title":"Property filter"}]},{"id":"creating-custom-filters","title":"Creating Custom Filters","anchors":[{"id":"creating-custom-doctrine-orm-filters","title":"Creating Custom Doctrine ORM Filters","anchors":[{"id":"manual-service-and-attribute-registration","title":"Manual Service and Attribute Registration"}]},{"id":"creating-custom-doctrine-mongodb-odm-filters","title":"Creating Custom Doctrine MongoDB ODM Filters"},{"id":"creating-custom-elasticsearch-filters","title":"Creating Custom Elasticsearch Filters"},{"id":"using-doctrine-orm-filters","title":"Using Doctrine ORM Filters"}]},{"id":"apifilter-attribute","title":"ApiFilter Attribute"}]},{"id":"subresources","title":"Subresources","anchors":[{"id":"using-serialization-groups","title":"Using Serialization Groups"},{"id":"using-custom-paths","title":"Using Custom Paths","anchors":[{"id":"access-control-of-subresources","title":"Access Control of Subresources"},{"id":"limiting-depth","title":"Limiting Depth"}]}]},{"id":"serialization","title":"The Serialization Process","anchors":[{"id":"overall-process","title":"Overall Process"},{"id":"available-serializers","title":"Available Serializers"},{"id":"the-serialization-context-groups-and-relations","title":"The Serialization Context, Groups and Relations","anchors":[{"id":"configuration","title":"Configuration"}]},{"id":"using-serialization-groups","title":"Using Serialization Groups"},{"id":"using-serialization-groups-per-operation","title":"Using Serialization Groups per Operation"},{"id":"embedding-relations","title":"Embedding Relations","anchors":[{"id":"normalization","title":"Normalization"},{"id":"denormalization","title":"Denormalization"},{"id":"force-iri-with-relations-of-the-same-type-parentchilds-relations","title":"Force IRI with relations of the same type (parent/childs relations)"}]},{"id":"property-normalization-context","title":"Property Normalization Context"},{"id":"calculated-field","title":"Calculated Field"},{"id":"changing-the-serialization-context-dynamically","title":"Changing the Serialization Context Dynamically"},{"id":"changing-the-serialization-context-on-a-per-item-basis","title":"Changing the Serialization Context on a Per-item Basis"},{"id":"name-conversion","title":"Name Conversion"},{"id":"decorating-a-serializer-and-adding-extra-data","title":"Decorating a Serializer and Adding Extra Data"},{"id":"entity-identifier-case","title":"Entity Identifier Case"},{"id":"embedding-the-json-ld-context","title":"Embedding the JSON-LD Context"},{"id":"collection-relation","title":"Collection Relation"}]},{"id":"validation","title":"Validation","anchors":[{"id":"validating-submitted-data","title":"Validating Submitted Data"},{"id":"using-validation-groups","title":"Using Validation Groups"},{"id":"using-validation-groups-on-operations","title":"Using Validation Groups on Operations"},{"id":"dynamic-validation-groups","title":"Dynamic Validation Groups"},{"id":"sequential-validation-groups","title":"Sequential Validation Groups"},{"id":"validating-delete-operations","title":"Validating Delete Operations"},{"id":"error-levels-and-payload-serialization","title":"Error Levels and Payload Serialization"},{"id":"validation-on-collection-relations","title":"Validation on Collection Relations"},{"id":"open-vocabulary-generated-from-validation-metadata","title":"Open Vocabulary Generated from Validation Metadata"},{"id":"specification-property-restrictions","title":"Specification property restrictions"}]},{"id":"security","title":"Security","anchors":[{"id":"executing-access-control-rules-after-denormalization","title":"Executing Access Control Rules After Denormalization"},{"id":"hooking-custom-permission-checks-using-voters","title":"Hooking Custom Permission Checks Using Voters"},{"id":"configuring-the-access-control-error-message","title":"Configuring the Access Control Error Message"},{"id":"filtering-collection-according-to-the-current-user-permissions","title":"Filtering Collection According to the Current User Permissions"},{"id":"disabling-operations","title":"Disabling Operations"},{"id":"changing-serialization-groups-depending-of-the-current-user","title":"Changing Serialization Groups Depending of the Current User"}]},{"id":"content-negotiation","title":"Content Negotiation","anchors":[{"id":"configuring-formats-globally","title":"Configuring Formats Globally"},{"id":"configuring-patch-formats","title":"Configuring PATCH Formats"},{"id":"configuring-error-formats","title":"Configuring Error Formats"},{"id":"configuring-formats-for-a-specific-resource-or-operation","title":"Configuring Formats For a Specific Resource or Operation"},{"id":"supporting-custom-formats","title":"Supporting Custom Formats","anchors":[{"id":"reusing-the-api-platform-infrastructure","title":"Reusing the API Platform Infrastructure"},{"id":"contributing-support-for-new-formats","title":"Contributing Support for New Formats"}]}]},{"id":"pagination","title":"Pagination","anchors":[{"id":"disabling-the-pagination","title":"Disabling the Pagination","anchors":[{"id":"disabling-the-pagination-globally","title":"Disabling the Pagination Globally"},{"id":"disabling-the-pagination-for-a-specific-resource","title":"Disabling the Pagination For a Specific Resource"},{"id":"disabling-the-pagination-client-side","title":"Disabling the Pagination Client-side","anchors":[{"id":"disabling-the-pagination-client-side-globally","title":"Disabling the Pagination Client-side Globally"},{"id":"disabling-the-pagination-client-side-for-a-specific-resource","title":"Disabling the Pagination Client-side For a Specific Resource"}]}]},{"id":"changing-the-number-of-items-per-page","title":"Changing the Number of Items per Page","anchors":[{"id":"changing-the-number-of-items-per-page-globally","title":"Changing the Number of Items per Page Globally"},{"id":"changing-the-number-of-items-per-page-for-a-specific-resource","title":"Changing the Number of Items per Page For a Specific Resource"},{"id":"changing-the-number-of-items-per-page-client-side","title":"Changing the Number of Items per Page Client-side","anchors":[{"id":"changing-the-number-of-items-per-page-client-side-globally","title":"Changing the Number of Items per Page Client-side Globally"},{"id":"changing-the-number-of-items-per-page-client-side-for-a-specific-resource","title":"Changing the Number of Items per Page Client-side For a Specific Resource"}]}]},{"id":"changing-maximum-items-per-page","title":"Changing Maximum Items Per Page","anchors":[{"id":"changing-maximum-items-per-page-globally","title":"Changing Maximum Items Per Page Globally"},{"id":"changing-maximum-items-per-page-for-a-specific-resource","title":"Changing Maximum Items Per Page For a Specific Resource"},{"id":"changing-maximum-items-per-page-for-a-specific-resource-collection-operation","title":"Changing Maximum Items Per Page For a Specific Resource Collection Operation"}]},{"id":"partial-pagination","title":"Partial Pagination","anchors":[{"id":"partial-pagination-globally","title":"Partial Pagination Globally"},{"id":"partial-pagination-for-a-specific-resource","title":"Partial Pagination For a Specific Resource"},{"id":"partial-pagination-client-side","title":"Partial Pagination Client-side","anchors":[{"id":"partial-pagination-client-side-globally","title":"Partial Pagination Client-side Globally"},{"id":"partial-pagination-client-side-for-a-specific-resource","title":"Partial Pagination Client-side For a Specific Resource"}]}]},{"id":"cursor-based-pagination","title":"Cursor-Based Pagination"},{"id":"controlling-the-behavior-of-the-doctrine-orm-paginator","title":"Controlling The Behavior of The Doctrine ORM Paginator"},{"id":"custom-controller-action","title":"Custom Controller Action"}]},{"id":"deprecations","title":"Deprecating Resources and Properties (Alternative to Versioning)","anchors":[{"id":"deprecating-resource-classes-operations-and-properties","title":"Deprecating Resource Classes, Operations and Properties"},{"id":"setting-the-sunset-http-header-to-indicate-when-a-resource-or-an-operation-will-be-removed","title":"Setting the Sunset HTTP Header to Indicate When a Resource or an Operation Will Be Removed"}]},{"id":"default-order","title":"Overriding Default Order"},{"id":"performance","title":"Performance and Cache","anchors":[{"id":"enabling-the-built-in-http-cache-invalidation-system","title":"Enabling the Built-in HTTP Cache Invalidation System","anchors":[{"id":"extending-cache-tags-for-invalidation","title":"Extending Cache-Tags for Invalidation"}]},{"id":"setting-custom-http-cache-headers","title":"Setting Custom HTTP Cache Headers"},{"id":"enabling-the-metadata-cache","title":"Enabling the Metadata Cache"},{"id":"using-ppm-php-pm","title":"Using PPM (PHP-PM)"},{"id":"doctrine-queries-and-indexes","title":"Doctrine Queries and Indexes","anchors":[{"id":"search-filter","title":"Search Filter"},{"id":"eager-loading","title":"Eager Loading","anchors":[{"id":"max-joins","title":"Max Joins"},{"id":"fetch-partial","title":"Fetch Partial"},{"id":"force-eager","title":"Force Eager"},{"id":"override-at-resource-and-operation-level","title":"Override at Resource and Operation Level"},{"id":"disable-eager-loading","title":"Disable Eager Loading"}]},{"id":"partial-pagination","title":"Partial Pagination"}]},{"id":"profiling-with-blackfireio","title":"Profiling with Blackfire.io"}]},{"id":"extensions","title":"Extensions","anchors":[{"id":"custom-doctrine-orm-extension","title":"Custom Doctrine ORM Extension","anchors":[{"id":"example","title":"Example","anchors":[{"id":"blocking-anonymous-users","title":"Blocking Anonymous Users"}]}]},{"id":"custom-doctrine-mongodb-odm-extension","title":"Custom Doctrine MongoDB ODM Extension"},{"id":"custom-elasticsearch-extension","title":"Custom Elasticsearch Extension"}]},{"id":"messenger","title":"Symfony Messenger Integration: CQRS and Async Message Processing","anchors":[{"id":"installing-symfony-messenger","title":"Installing Symfony Messenger"},{"id":"dispatching-a-resource-through-the-message-bus","title":"Dispatching a Resource through the Message Bus"},{"id":"registering-a-message-handler","title":"Registering a Message Handler"},{"id":"accessing-the-data-returned-by-the-handler","title":"Accessing the Data Returned by the Handler"},{"id":"detecting-removals","title":"Detecting Removals"},{"id":"using-messenger-with-an-input-object","title":"Using Messenger with an Input Object"}]},{"id":"dto","title":"Using Data Transfer Objects (DTOs)","anchors":[{"id":"specifying-an-input-or-an-output-data-representation","title":"Specifying an Input or an Output Data Representation"},{"id":"updating-a-resource-with-a-custom-input","title":"Updating a Resource with a Custom Input"},{"id":"initialize-the-input-dto-for-partial-update","title":"Initialize the Input DTO For Partial Update"},{"id":"disabling-the-input-or-the-output","title":"Disabling the Input or the Output"},{"id":"per-operation-input-and-output","title":"Per Operation input and output"},{"id":"inputoutput-metadata","title":"Input/Output Metadata"},{"id":"using-objects-as-relations-inside-resources","title":"Using Objects As Relations Inside Resources"},{"id":"validating-data-transfer-objects","title":"Validating Data Transfer Objects"}]},{"id":"openapi","title":"OpenAPI Specification Support (formerly Swagger)","anchors":[{"id":"using-the-openapi-command","title":"Using the OpenAPI Command"},{"id":"overriding-the-openapi-specification","title":"Overriding the OpenAPI Specification"},{"id":"using-the-openapi-and-swagger-contexts","title":"Using the OpenAPI and Swagger Contexts"},{"id":"changing-the-name-of-a-definition","title":"Changing the Name of a Definition"},{"id":"changing-operations-in-the-openapi-documentation","title":"Changing Operations in the OpenAPI Documentation"},{"id":"changing-the-location-of-swagger-ui","title":"Changing the Location of Swagger UI","anchors":[{"id":"disabling-swagger-ui-or-redoc","title":"Disabling Swagger UI or ReDoc"},{"id":"manually-registering-the-swagger-ui-controller","title":"Manually Registering the Swagger UI Controller"}]},{"id":"using-a-custom-asset-package-in-swagger-ui","title":"Using a custom Asset Package in Swagger UI"},{"id":"overriding-the-ui-template","title":"Overriding the UI Template"},{"id":"compatibility-layer-with-amazon-api-gateway","title":"Compatibility Layer with Amazon API Gateway"},{"id":"oauth","title":"OAuth"},{"id":"info-object","title":"Info Object"}]},{"id":"json-schema","title":"JSON Schema Support","anchors":[{"id":"generating-a-json-schema","title":"Generating a JSON Schema"},{"id":"overriding-the-json-schema-specification","title":"Overriding the JSON Schema Specification"},{"id":"generating-a-json-schema-programmatically","title":"Generating a JSON Schema Programmatically"},{"id":"testing","title":"Testing"}]},{"id":"mercure","title":"Creating Async APIs using the Mercure Protocol","anchors":[{"id":"installing-mercure-support","title":"Installing Mercure Support"},{"id":"pushing-the-api-updates","title":"Pushing the API Updates"},{"id":"dispatching-private-updates-authorized-mode","title":"Dispatching Private Updates (Authorized Mode)"},{"id":"available-options","title":"Available Options"}]},{"id":"push-relations","title":"Pushing Related Resources Using HTTP/2"},{"id":"errors","title":"Errors Handling","anchors":[{"id":"converting-php-exceptions-to-http-errors","title":"Converting PHP Exceptions to HTTP Errors"},{"id":"message-scope","title":"Message Scope"}]},{"id":"external-vocabularies","title":"Using External Vocabularies"},{"id":"operation-path-naming","title":"Operation Path Naming","anchors":[{"id":"configuration","title":"Configuration"},{"id":"create-a-custom-operation-path-resolver","title":"Create a Custom Operation Path Resolver","anchors":[{"id":"defining-the-operation-segment-name-generator","title":"Defining the Operation Segment Name Generator"},{"id":"registering-the-service","title":"Registering the Service"},{"id":"configuring-it","title":"Configuring It"}]}]},{"id":"url-generation-strategy","title":"URL Generation Strategy"},{"id":"extending-jsonld-context","title":"Extending JSON-LD AND Hydra Contexts","anchors":[{"id":"json-ld","title":"JSON-LD"},{"id":"hydra","title":"Hydra"}]},{"id":"identifiers","title":"Identifiers","anchors":[{"id":"custom-identifier-normalizer","title":"Custom Identifier Normalizer"},{"id":"changing-identifier-in-a-doctrine-entity","title":"Changing Identifier in a Doctrine Entity"},{"id":"supported-identifiers","title":"Supported Identifiers"}]},{"id":"mongodb","title":"MongoDB Support","anchors":[{"id":"overview","title":"Overview"},{"id":"enabling-mongodb-support","title":"Enabling MongoDB Support"},{"id":"creating-documents","title":"Creating Documents"},{"id":"filtering","title":"Filtering"},{"id":"creating-custom-extensions","title":"Creating Custom Extensions"},{"id":"adding-execute-options","title":"Adding Execute Options"}]},{"id":"elasticsearch","title":"Elasticsearch Support","anchors":[{"id":"overview","title":"Overview"},{"id":"enabling-reading-support","title":"Enabling Reading Support"},{"id":"creating-models","title":"Creating Models","anchors":[{"id":"creating-custom-mapping","title":"Creating custom mapping"}]},{"id":"filtering","title":"Filtering"},{"id":"creating-custom-extensions","title":"Creating Custom Extensions"}]},{"id":"controllers","title":"Creating Custom Operations and Controllers","anchors":[{"id":"using-serialization-groups","title":"Using Serialization Groups"},{"id":"retrieving-the-entity","title":"Retrieving the Entity"},{"id":"alternative-method","title":"Alternative Method"}]},{"id":"events","title":"The Event System","anchors":[{"id":"built-in-event-listeners","title":"Built-in Event Listeners"},{"id":"custom-event-listeners","title":"Custom Event Listeners"}]},{"id":"file-upload","title":"Handling File Upload","anchors":[{"id":"installing-vichuploaderbundle","title":"Installing VichUploaderBundle"},{"id":"uploading-to-a-dedicated-resource","title":"Uploading to a Dedicated Resource","anchors":[{"id":"configuring-the-resource-receiving-the-uploaded-file","title":"Configuring the Resource Receiving the Uploaded File"},{"id":"creating-the-controller","title":"Creating the Controller"},{"id":"resolving-the-file-url","title":"Resolving the File URL"},{"id":"making-a-request-to-the-media_objects-endpoint","title":"Making a Request to the /media_objects Endpoint"},{"id":"accessing-your-media-objects-directly","title":"Accessing Your Media Objects Directly"},{"id":"linking-a-mediaobject-resource-to-another-resource","title":"Linking a MediaObject Resource to Another Resource"},{"id":"testing","title":"Testing"}]},{"id":"uploading-to-an-existing-resource-with-its-fields","title":"Uploading to an Existing Resource with its Fields","anchors":[{"id":"configuring-the-existing-resource-receiving-the-uploaded-file","title":"Configuring the Existing Resource Receiving the Uploaded File"},{"id":"handling-the-multipart-deserialization","title":"Handling the Multipart Deserialization"}]}]},{"id":"jwt","title":"JWT Authentication","anchors":[{"id":"installing-lexikjwtauthenticationbundle","title":"Installing LexikJWTAuthenticationBundle"},{"id":"configuring-the-symfony-securitybundle","title":"Configuring the Symfony SecurityBundle","anchors":[{"id":"adding-authentication-to-an-api-which-uses-a-path-prefix","title":"Adding Authentication to an API Which Uses a Path Prefix"},{"id":"be-sure-to-have-lexikjwtauthentication-configured-on-your-useridentityfield","title":"Be sure to have lexikjwtauthentication configured on your useridentityfield"}]},{"id":"documenting-the-authentication-mechanism-with-swaggeropen-api","title":"Documenting the Authentication Mechanism with Swagger/Open API","anchors":[{"id":"configuring-api-platform","title":"Configuring API Platform"},{"id":"adding-a-new-api-key","title":"Adding a New API Key"},{"id":"adding-endpoint-to-swaggerui-to-retrieve-a-jwt-token","title":"Adding endpoint to SwaggerUI to retrieve a JWT token"}]},{"id":"testing","title":"Testing","anchors":[{"id":"improving-tests-suite-speed","title":"Improving Tests Suite Speed"}]}]},{"id":"form-data","title":"Accept application/x-www-form-urlencoded Form Data","anchors":[{"id":"create-your-deserializelistener-decorator","title":"Create your DeserializeListener Decorator"},{"id":"creating-the-service-definition","title":"Creating the Service Definition"}]},{"id":"angularjs-integration","title":"AngularJS Integration","anchors":[{"id":"restangular","title":"Restangular"},{"id":"ng-admin","title":"ng-admin"}]},{"id":"fosuser-bundle","title":"FOSUserBundle Integration","anchors":[{"id":"ï¸-deprecated-this-integration-is-deprecated-and-will-be-removed-in-api-platform-3","title":"âš ï¸ Deprecated: this integration is deprecated and will be removed in API Platform 3"},{"id":"installing-the-bundle","title":"Installing the Bundle"},{"id":"enabling-the-bridge","title":"Enabling the Bridge"},{"id":"creating-a-user-entity-with-serialization-groups","title":"Creating a User Entity with Serialization Groups"}]},{"id":"nelmio-api-doc","title":"NelmioApiDocBundle Integration"},{"id":"bootstrap","title":"Bootstraping the core library"},{"id":"configuration","title":"Configuration","anchors":[{"id":"global-resources-defaults","title":"Global Resources Defaults"}]},{"id":"migrate-from-fosrestbundle","title":"Migrate From FOSRestBundle","anchors":[{"id":"features-comparison","title":"Features Comparison","anchors":[{"id":"make-crud-endpoints","title":"Make CRUD endpoints"},{"id":"make-custom-controllers","title":"Make custom controllers"},{"id":"routing-system-with-native-documentation-support","title":"Routing system (with native documentation support)"},{"id":"hook-into-the-requests-handling","title":"Hook into the requests handling"},{"id":"customize-the-formats-of-the-requests-and-the-responses","title":"Customize the formats of the requests and the responses"},{"id":"name-conversion","title":"Name conversion"},{"id":"handle-errors","title":"Handle errors"},{"id":"security","title":"Security"},{"id":"api-versioning","title":"API versioning"}]}]}]},{"title":"The Schema Generator Component","path":"schema-generator","items":[{"id":"index","title":"The Schema Generator","anchors":[{"id":"what-is-schemaorg","title":"What Is Schema.org?"},{"id":"why-use-schemaorg-data-to-generate-a-php-model","title":"Why Use Schema.org Data to Generate a PHP Model?","anchors":[{"id":"dont-reinvent-the-wheel","title":"Don't Reinvent the Wheel"},{"id":"improve-seo-and-user-experience","title":"Improve SEO and User Experience"},{"id":"be-ready-for-the-future","title":"Be Ready for The Future"}]},{"id":"documentation","title":"Documentation"}]},{"id":"getting-started","title":"Getting Started","anchors":[{"id":"installation","title":"Installation"},{"id":"model-scaffolding","title":"Model Scaffolding","anchors":[{"id":"going-further","title":"Going Further"}]},{"id":"cardinality-extraction","title":"Cardinality Extraction"}]},{"id":"configuration","title":"Configuration","anchors":[{"id":"customizing-php-namespaces","title":"Customizing PHP Namespaces"},{"id":"forcing-a-field-range","title":"Forcing a Field Range"},{"id":"forcing-a-field-cardinality","title":"Forcing a Field Cardinality"},{"id":"forcing-a-relation-table-name","title":"Forcing a Relation Table Name"},{"id":"forcing-or-disabling-a-class-parent","title":"Forcing (or Disabling) a Class Parent"},{"id":"forcing-a-class-to-be-abstract","title":"Forcing a Class to be Abstract"},{"id":"define-operations","title":"Define Operations"},{"id":"forcing-a-nullable-property","title":"Forcing a Nullable Property"},{"id":"forcing-a-unique-property","title":"Forcing a Unique Property"},{"id":"making-a-property-read-only","title":"Making a Property Read-Only"},{"id":"making-a-property-write-only","title":"Making a Property Write-Only"},{"id":"forcing-a-property-to-be-in-a-serialization-group","title":"Forcing a Property to be in a Serialization Group"},{"id":"forcing-an-embeddable-class-to-be-embedded","title":"Forcing an Embeddable Class to be Embedded"},{"id":"author-phpdoc","title":"Author PHPDoc"},{"id":"disabling-generators-and-creating-custom-ones","title":"Disabling Generators and Creating Custom Ones"},{"id":"skipping-accessor-method-generation","title":"Skipping Accessor Method Generation"},{"id":"disabling-the-id-generator","title":"Disabling the id Generator"},{"id":"generating-uuids","title":"Generating UUIDs"},{"id":"user-submitted-uuids","title":"User submitted UUIDs"},{"id":"generating-custom-ids","title":"Generating Custom IDs"},{"id":"disabling-usage-of-doctrine-collections","title":"Disabling Usage of Doctrine Collections"},{"id":"changing-the-field-visibility","title":"Changing the Field Visibility"},{"id":"generating-asserttype-annotations","title":"Generating @Assert\\Type Annotations"},{"id":"forcing-doctrine-inheritance-mapping-annotation","title":"Forcing Doctrine Inheritance Mapping Annotation"},{"id":"interfaces-and-doctrine-resolve-target-entity-listener","title":"Interfaces and Doctrine Resolve Target Entity Listener"},{"id":"custom-schemas","title":"Custom Schemas"},{"id":"checking-goodrelation-compatibility","title":"Checking GoodRelation Compatibility"},{"id":"php-file-header","title":"PHP File Header"},{"id":"full-configuration-reference","title":"Full Configuration Reference"}]}]},{"title":"The Admin Component","path":"admin","items":[{"id":"index","title":"The API Platform Admin","anchors":[{"id":"features","title":"Features"}]},{"id":"getting-started","title":"Getting Started","anchors":[{"id":"installation","title":"Installation"},{"id":"creating-the-admin","title":"Creating the Admin"}]},{"id":"handling-relations","title":"Handling Relations","anchors":[{"id":"embedded-relations","title":"Embedded Relations"},{"id":"display-a-field-of-an-embedded-relation","title":"Display a Field of an Embedded Relation"},{"id":"using-an-autocomplete-input-for-relations","title":"Using an Autocomplete Input for Relations"}]},{"id":"schema.org","title":"Using the Schema.org Vocabulary","anchors":[{"id":"displaying-related-resources-name-instead-of-its-iri","title":"Displaying Related Resource's Name Instead of its IRI"},{"id":"emails-urls-and-identifiers","title":"Emails, URLs and Identifiers"}]},{"id":"validation","title":"Validation","anchors":[{"id":"client-side-validation","title":"Client-side Validation"},{"id":"server-side-validation","title":"Server-side Validation"}]},{"id":"real-time-mercure","title":"Real-time Updates With Mercure","anchors":[{"id":"advanced-configuration","title":"Advanced Configuration"}]},{"id":"authentication-support","title":"Authentication Support"},{"id":"file-upload","title":"Handling File Upload"},{"id":"performance","title":"Performance","anchors":[{"id":"retrieve-all-relations-in-one-request","title":"Retrieve All Relations in One Request"}]},{"id":"customizing","title":"Customizing the Admin","anchors":[{"id":"customizing-the-admins-main-page-and-the-resource-list","title":"Customizing the Admin's Main Page and the Resource List"},{"id":"customizing-the-list-view","title":"Customizing the List View"},{"id":"customizing-the-show-view","title":"Customizing the Show View"},{"id":"customizing-the-create-form","title":"Customizing the Create Form"},{"id":"customizing-the-edit-form","title":"Customizing the Edit Form"},{"id":"going-further","title":"Going Further"}]},{"id":"components","title":"Components","anchors":[{"id":"resource-components","title":"Resource Components","anchors":[{"id":"adminguesser","title":"AdminGuesser","anchors":[{"id":"props","title":"Props"}]},{"id":"resourceguesser","title":"ResourceGuesser","anchors":[{"id":"resourceguesser-props","title":"ResourceGuesser Props"}]}]},{"id":"page-components","title":"Page Components","anchors":[{"id":"listguesser","title":"ListGuesser","anchors":[{"id":"listguesser-props","title":"ListGuesser Props"}]},{"id":"createguesser","title":"CreateGuesser","anchors":[{"id":"createguesser-props","title":"CreateGuesser Props"}]},{"id":"editguesser","title":"EditGuesser","anchors":[{"id":"editguesser-props","title":"EditGuesser Props"}]},{"id":"showguesser","title":"ShowGuesser","anchors":[{"id":"showguesser-props","title":"ShowGuesser Props"}]}]},{"id":"hydra","title":"Hydra","anchors":[{"id":"hydraadmin","title":"HydraAdmin","anchors":[{"id":"hydraadmin-props","title":"HydraAdmin Props"}]},{"id":"data-provider","title":"Data Provider"},{"id":"schema-analyzer","title":"Schema Analyzer"}]},{"id":"other-components","title":"Other Components","anchors":[{"id":"pagination","title":"Pagination"},{"id":"fieldguesser","title":"FieldGuesser","anchors":[{"id":"fieldguesser-props","title":"FieldGuesser Props"}]},{"id":"inputguesser","title":"InputGuesser","anchors":[{"id":"inputguesser-props","title":"InputGuesser Props"}]}]}]}]},{"title":"The Client Generator Component","path":"client-generator","items":[{"id":"index","title":"The API Platform Client Generator","anchors":[{"id":"generated-react-and-react-native-apps-updated-in-real-time","title":"Generated React and React Native Apps, Updated in Real Time"},{"id":"features","title":"Features"}]},{"id":"nextjs","title":"Next.js Generator","anchors":[{"id":"install","title":"Install","anchors":[{"id":"next--express-server","title":"Next + Express Server"},{"id":"installing-the-generator-dependencies","title":"Installing the Generator Dependencies"}]},{"id":"generating-routes","title":"Generating Routes"},{"id":"starting-the-project","title":"Starting the Project"},{"id":"screenshots","title":"Screenshots"}]},{"id":"nuxtjs","title":"Nuxt.js Generator","anchors":[{"id":"install","title":"Install","anchors":[{"id":"nuxt","title":"Nuxt"},{"id":"installing-the-generator-dependencies","title":"Installing the Generator Dependencies"}]},{"id":"updating-nuxtjs-config","title":"Updating nuxtjs config"},{"id":"generating-routes","title":"Generating Routes"},{"id":"updating-default-layout","title":"Updating default layout"},{"id":"starting-the-project","title":"Starting the Project"},{"id":"screenshots","title":"Screenshots"}]},{"id":"vuetify","title":"Vuetify Generator","anchors":[{"id":"install-with-docker","title":"Install with Docker"},{"id":"install-without-docker","title":"Install without Docker"},{"id":"generating-the-vuejs-web-app","title":"Generating the VueJS Web App"}]},{"id":"quasar","title":"Quasar Framework Generator"},{"id":"react","title":"React Generator","anchors":[{"id":"install","title":"Install"},{"id":"generating-a-progressive-web-app","title":"Generating a Progressive Web App"},{"id":"screenshots","title":"Screenshots"}]},{"id":"react-native","title":"React Native generator","anchors":[{"id":"install","title":"Install"},{"id":"generating-a-native-app","title":"Generating a Native App"},{"id":"screenshots-in-ios-simulator","title":"Screenshots in iOS Simulator"}]},{"id":"vuejs","title":"Vue.js Generator"},{"id":"typescript","title":"TypeScript Interfaces","anchors":[{"id":"example","title":"Example"}]},{"id":"troubleshooting","title":"Troubleshooting","anchors":[{"id":"self-signed-tls-certificate","title":"Self-Signed TLS Certificate"},{"id":"authenticated-api","title":"Authenticated API"},{"id":"apidocumentation-doesnt-exist","title":"ApiDocumentation doesn't exist"},{"id":"cannot-read-property-type","title":"Cannot read property '@type'"},{"id":"dereferencing-a-url-did-not-result-in-a-json-object","title":"Dereferencing a URL did not result in a JSON object"},{"id":"docker-distribution-on-windows-and-hot-reloading","title":"Docker distribution on Windows and hot-reloading"}]}]},{"title":"Deployment","path":"deployment","items":[{"id":"index","title":"Deploying API Platform Applications"},{"id":"docker-compose","title":"Deploying with Docker Compose","anchors":[{"id":"preparing-a-server","title":"Preparing a Server"},{"id":"configuring-a-domain-name","title":"Configuring a Domain Name"},{"id":"deploying","title":"Deploying"},{"id":"deploying-on-multiple-nodes","title":"Deploying on Multiple Nodes"}]},{"id":"kubernetes","title":"Deploying to a Kubernetes Cluster","anchors":[{"id":"preparing-your-cluster-and-your-local-machine","title":"Preparing Your Cluster and Your Local Machine"},{"id":"creating-and-publishing-the-docker-images","title":"Creating and Publishing the Docker Images","anchors":[{"id":"example-with-the-google-container-registry-and-google-cloud-platform","title":"Example with the Google Container Registry and Google Cloud Platform","anchors":[{"id":"1-build-the-php-and-caddy-docker-images-and-tag-them","title":"1. Build the PHP and Caddy Docker images and tag them"},{"id":"2-push-your-images-to-your-docker-registry","title":"2. Push your images to your Docker registry"}]}]},{"id":"deploying-with-helm-3","title":"Deploying with Helm 3","anchors":[{"id":"1-check-the-helm-version","title":"1. Check the Helm version"},{"id":"2-firstly-you-need-to-update-helm-dependencies-by-running","title":"2. Firstly you need to update helm dependencies by running"},{"id":"3-optional-if-you-made-changes-to-the-helm-chart-check-if-its-format-is-correct","title":"3. Optional: If you made changes to the Helm chart, check if its format is correct"},{"id":"4-deploy-your-api-to-the-container","title":"4. Deploy your API to the container"}]},{"id":"access-the-container","title":"Access the container"},{"id":"caution-for-system-architecture","title":"Caution for system architecture"},{"id":"updates","title":"Updates","anchors":[{"id":"1-always-version-your-images-recommended","title":"1. Always version your images (recommended)"},{"id":"2-use-latest-tags","title":"2. Use :latest tags"}]},{"id":"github-actions-example-for-deployment","title":"GitHub Actions Example for deployment"},{"id":"symfony-messenger","title":"Symfony Messenger"}]},{"id":"minikube","title":"Deploying to Minikube","anchors":[{"id":"install-minikube","title":"Install Minikube"},{"id":"building-and-pushing-docker-images","title":"Building and Pushing Docker Images"},{"id":"deploying","title":"Deploying"}]},{"id":"heroku","title":"Deploying an API Platform App on Heroku"},{"id":"traefik","title":"Implement TrÃ¦fik Into API Platform Dockerized","anchors":[{"id":"basic-implementation","title":"Basic Implementation"},{"id":"known-issues","title":"Known Issues"},{"id":"going-further","title":"Going Further"},{"id":"multiple-instances","title":"Multiple Instances"},{"id":"more-generic-approach","title":"More Generic Approach"}]}]},{"title":"General Information","path":"extra","items":[{"id":"philosophy","title":"API Platform's Philosophy"},{"id":"releases","title":"The Release Process"},{"id":"enterprise","title":"API Platform for Enterprise","anchors":[{"id":"enterprise-ready-open-source-softwaremanaged-for-you","title":"Enterprise-ready open source softwareâ€”managed for you"}]},{"id":"security","title":"Security Policy","anchors":[{"id":"reporting-a-security-issue","title":"Reporting a Security Issue"},{"id":"resolving-process","title":"Resolving Process"},{"id":"security-updates-with-tidelift","title":"Security Updates With Tidelift"},{"id":"issue-severity","title":"Issue Severity","anchors":[{"id":"attack-complexity","title":"Attack Complexity"},{"id":"impact","title":"Impact"},{"id":"affected-projects","title":"Affected Projects"},{"id":"score-totals","title":"Score Totals"},{"id":"severity-levels","title":"Severity levels"}]},{"id":"credits","title":"Credits"}]},{"id":"troubleshooting","title":"Troubleshooting","anchors":[{"id":"using-docker","title":"Using Docker","anchors":[{"id":"with-docker-toolbox-on-windows","title":"With Docker Toolbox on Windows"},{"id":"error-starting-the-web-server","title":"Error Starting The Web Server"}]},{"id":"using-api-platform-and-jms-serializer-in-the-same-project","title":"Using API Platform and JMS Serializer in the same project"},{"id":"upstream-sent-too-big-header-while-reading-response-header-from-upstream-nginx-502-error","title":"\"upstream sent too big header while reading response header from upstream\" NGINX 502 Error"}]},{"id":"contribution-guides","title":"Contribution guides"},{"id":"conduct","title":"Contributor Code of Conduct","anchors":[{"id":"our-pledge","title":"Our Pledge"},{"id":"our-standards","title":"Our Standards"},{"id":"our-responsibilities","title":"Our Responsibilities"},{"id":"scope","title":"Scope"},{"id":"enforcement","title":"Enforcement"},{"id":"attribution","title":"Attribution"}]}]}]},"next":{"slug":"/docs/distribution/testing/","title":"Testing the API"},"prefixedVersion":"current","previous":{},"title":"Getting Started With API Platform: Create Your API and Your Jamstack Site","urlEditDocumentation":"https://github.com/api-platform/docs/edit/2.6/distribution/index.md","version":""}},"staticQueryHashes":["1552981879"]}